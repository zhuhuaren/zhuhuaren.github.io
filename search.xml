<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>DOS命令</title>
      <link href="/2021/02/03/dos-ming-ling/"/>
      <url>/2021/02/03/dos-ming-ling/</url>
      
        <content type="html"><![CDATA[<h3 id="常用DOS命令"><a href="#常用DOS命令" class="headerlink" title="常用DOS命令"></a>常用DOS命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令&#x2F;? # 获取命令参数说明</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">color 颜色属性 # 修改控制台字体颜色</span><br></pre></td></tr></table></figure><p><img src="http://img.zhuhuaren.cn/img/color.png" alt="image-20210202222118196" style="zoom: 50%;" /></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ping -t -l 2 ip&#x2F;url #联通测试，</span><br><span class="line">-t:表示一直ping</span><br><span class="line">-l:发送包大小</span><br></pre></td></tr></table></figure><p><img src="http://img.zhuhuaren.cn/img/ping.png" alt="image-20210202222455622" style="zoom:80%;" /></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ipconfig # 查看本机ip</span><br><span class="line">ipconfig &#x2F;release # 释放本机ip</span><br><span class="line">ipconfig &#x2F;renew # 重新获取ip</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysyeminfo # 获取本机信息</span><br></pre></td></tr></table></figure><p><img src="http://img.zhuhuaren.cn/img/systeminfo.png" alt="image-20210202223314771" style="zoom:80%;" /></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arp # 显示和修改“地址解析协议（ARP）”缓存中的项目</span><br></pre></td></tr></table></figure><p><img src="http://img.zhuhuaren.cn/img/arp.png" alt="image-20210202223745739" style="zoom: 80%;" /></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net view # 查看局域网内其他计算机的名称</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">shutdown -s -t 180 -c</span><br><span class="line">-s:表示关闭本地计算机</span><br><span class="line">-a:表示取消关机操作</span><br><span class="line">-f:强行关闭应用程序</span><br><span class="line">-m:计算机名：控制远程计算机</span><br><span class="line">-i:显示图形用户界面，但必须是Shutdown的第一个选项</span><br><span class="line">-l:注销当前用户</span><br><span class="line">-r:关机并重启</span><br><span class="line">-t:时间：设置关机倒计时</span><br><span class="line">-c:&quot;消息内容&quot;：输入关机对话框中的消息内容（不能超127个字符）</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dir #查看当前目录文件</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start url&#x2F;文件名 #打开网页&#x2F;文件</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy con 文件名.拓展名 # 新建文件</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md 文件名 # 新建文件夹</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rd 文件名 # 删除文件夹</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ren 原文件名 新文件名 # 修改文件夹名称</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del 文件名 # 删除文件</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy 当前文件位置 目标位置 # 复制文件</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">move 当前文件位置 目标位置 # 移动文件</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree # 列出当前文件夹树形结构</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net use K:\\192.168.1.1\C$ # 将目标电脑C盘映射为本机K盘</span><br><span class="line">net use K:\\192.168.1.1\C$ del # 将目标电脑C与本机映射断开</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net start # 查看开启了哪些服务</span><br><span class="line">net start 服务名称 # 开启服务</span><br><span class="line">net stop 服务名称 # 关闭服务</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net user 用户名 密码 &#x2F;add # 建立新用户</span><br><span class="line">net user guest &#x2F;acyivate:yes # 激活guest用户</span><br><span class="line">net user # 查看有哪些用户</span><br><span class="line">net user 用户名 # 查看用户属性</span><br><span class="line">net user guest 密码 # 用guest用户登陆后将密码改为密码</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net localgroup admnistrators 用户名 &#x2F;add # 把用户添加到管理员用户组，使其具有管理员权限</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net password 密码 # 更改系统登陆密码</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">net share # 查看本地开启的共享</span><br><span class="line">net share ipc$ # 开启ipc$共享</span><br><span class="line">net share ipc$ &#x2F;del # 删除ipc$共享</span><br><span class="line">net share c$ &#x2F;del # 删除C:共享</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd\            # 退回到根目录</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit           # 退出dos命令行</span><br></pre></td></tr></table></figure> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ASSOC          # 显示或修改文件扩展名关联。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ATTRIB         # 显示或更改文件属性。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BREAK          # 设置或清除扩展式 CTRL+C 检查。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BCDEDIT        # 设置启动数据库中的属性以控制启动加载。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CACLS          # 显示或修改文件的访问控制列表(ACL)。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CALL           # 从另一个批处理程序调用这一个。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CD             # 显示当前目录的名称或将其更改。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHCP           # 显示或设置活动代码页数。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHDIR          # 显示当前目录的名称或将其更改。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHKDSK         # 检查磁盘并显示状态报告。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHKNTFS        # 显示或修改启动时间磁盘检查。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CLS            # 清除屏幕。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMD            # 打开另一个 Windows 命令解释程序窗口。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COMP           # 比较两个或两套文件的内容。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COMPACT        # 显示或更改 NTFS 分区上文件的压缩。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONVERT        # 将 FAT 卷转换成 NTFS。你不能转换当前驱动器。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COPY           # 将至少一个文件复制到另一个位置。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DATE           # 显示或设置日期。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DISKPART       # 显示或配置磁盘分区属性。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DOSKEY         # 编辑命令行、撤回 Windows 命令并创建宏。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DRIVERQUERY    # 显示当前设备驱动程序状态和属性。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECHO           # 显示消息，或将命令回显打开或关闭。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENDLOCAL       # 结束批文件中环境更改的本地化。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERASE          # 删除一个或多个文件。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXIT           # 退出 CMD.EXE 程序(命令解释程序)。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FC             # 比较两个文件或两个文件集并显示它们之间的不同。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FIND           # 在一个或多个文件中搜索一个文本字符串。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FINDSTR        # 在多个文件中搜索字符串。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FOR            # 为一组文件中的每个文件运行一个指定的命令。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FORMAT         # 格式化磁盘，以便用于 Windows。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FSUTIL         # 显示或配置文件系统属性。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FTYPE          # 显示或修改在文件扩展名关联中使用的文件类型。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">GOTO           # 将 Windows 命令解释程序定向到批处理程序中某个带标签的行。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">GPRESULT       # 显示计算机或用户的组策略信息。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">GRAFTABL       # 使 Windows 在图形模式下显示扩展字符集。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">HELP           # 提供 Windows 命令的帮助信息。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">ICACLS         # 显示、修改、备份或还原文件和目录的 ACL。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">IF             # 在批处理程序中执行有条件的处理操作。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">LABEL          # 创建、更改或删除磁盘的卷标。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">MD             # 创建一个目录。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">MKDIR          # 创建一个目录。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">MKLINK         # 创建符号链接和硬链接</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">MODE           # 配置系统设备。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">MORE           # 逐屏显示输出。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">MOVE           # 将一个或多个文件从一个目录移动到另一个目录。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">OPENFILES      # 显示远程用户为了文件共享而打开的文件。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">PATH           # 为可执行文件显示或设置搜索路径。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">PAUSE          # 暂停批处理文件的处理并显示消息。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">POPD           # 还原通过 PUSHD 保存的当前目录的上一个值。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">PRINT          # 打印一个文本文件。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">PROMPT         # 更改 Windows 命令提示。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">PUSHD          # 保存当前目录，然后对其进行更改。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">RECOVER        # 从损坏的或有缺陷的磁盘中恢复可读信息。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">REM            # 记录批处理文件或 CONFIG.SYS 中的注释(批注)。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">REPLACE        # 替换文件。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">RMDIR          # 删除目录。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">ROBOCOPY       # 复制文件和目录树的高级实用工具</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SET            # 显示、设置或删除 Windows 环境变量。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SETLOCAL       # 开始本地化批处理文件中的环境更改。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SC             # 显示或配置服务(后台进程)。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SCHTASKS       # 安排在一台计算机上运行命令和程序。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SHIFT          # 调整批处理文件中可替换参数的位置。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SORT           # 对输入排序</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">SUBST          # 将路径与驱动器号关联。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">TASKLIST       # 显示包括服务在内的所有当前运行的任务。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">TASKKILL       # 中止或停止正在运行的进程或应用程序。</span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;</span><br><span class="line">TIME           # 显示或设置系统时间。</span><br><span class="line">&#96;&#96;&#96;</span><br></pre></td></tr></table></figure><p>TITLE          # 设置 CMD.EXE 会话的窗口标题。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>TYPE           # 显示文本文件的内容。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>VER            # 显示 Windows 的版本。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>VERIFY         # 告诉 Windows 是否进行验证，以确保文件正确写入磁盘。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>VOL            # 显示磁盘卷标和序列号。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>XCOPY          # 复制文件和目录树。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>WMIC           # 在交互式命令 shell 中显示 WMI 信息。<br>```</p><blockquote><p>没什么事可以在机器上试试这些命令，不建议在物理机上试:smile:</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>《发布证券研究报告业务》笔记</title>
      <link href="/2020/09/02/fa-bu-zheng-quan-yan-jiu-bao-gao-ye-wu-kao-shi/"/>
      <url>/2020/09/02/fa-bu-zheng-quan-yan-jiu-bao-gao-ye-wu-kao-shi/</url>
      
        <content type="html"><![CDATA[<p>卧槽！</p><a id="more"></a><h2 id="第一部分-业务监管"><a href="#第一部分-业务监管" class="headerlink" title="第一部分 业务监管"></a>第一部分 业务监管</h2><h3 id="第一章-发布证券研究报告业务监管"><a href="#第一章-发布证券研究报告业务监管" class="headerlink" title="第一章 发布证券研究报告业务监管"></a>第一章 发布证券研究报告业务监管</h3><h4 id="第一节-资格管理"><a href="#第一节-资格管理" class="headerlink" title="第一节 资格管理"></a><strong>第一节 资格管理</strong></h4><ul><li><p>我国的证券分析师行业自律组织——<strong>中国证券业协会证券分析师专业委员会</strong></p></li><li><p><strong>亚洲证券与投资联合会（ASIF）</strong></p><ul><li>亚太地区非官方的证券分析师行业交流与合作组织</li><li>注册地：澳大利亚</li><li>秘书处：日本东京</li><li>最高决策机构：会员大会</li></ul></li><li><p>证券公司、证券投资咨询机构发布证券研究报告时，公司持有相关上市公司发行股份达到<strong>1%</strong>时，应当在研究报告中进行披露，且研究报告<strong>发布当日及第二日</strong>不得进行与研究报告观点相反的交易。</p></li></ul><ul><li><p>证券分析师自律组织的功能</p><ol><li>为会员进行资格认证</li><li>对会员进行职业道德、行为标准管理</li><li>定期或不定期地对证券分析师进行培训、组织研讨会、为会员内部交流及国际交流提供支持等</li></ol></li><li><p>从业人员年检期间培训学时为<strong>20学时</strong>。</p></li></ul><h4 id="第二节-主要职责"><a href="#第二节-主要职责" class="headerlink" title="第二节 主要职责"></a><strong>第二节 主要职责</strong></h4><ul><li><p>证券投资咨询行业执业十六字方针</p><ul><li><p>独立客观原则</p></li><li><p>谨慎客观原则</p></li><li>勤勉尽责原则</li><li>公正公平原则</li></ul></li><li><p>证券分析师道德规范三大原则</p><ul><li><p>公平对待已有客户和潜在客户原则</p></li><li><p>独立性和客观性原则</p></li><li>信托责任原则</li></ul></li><li><p>证券分析师执业行为操作规则</p><ul><li><p>在作出投资建议和操作时，应注意适宜性<br>合理的分析和表述</p></li><li><p>信息披露</p></li><li>保存客户机密、资金及证券</li></ul></li></ul><h4 id="第三节-工作规程"><a href="#第三节-工作规程" class="headerlink" title="第三节 工作规程"></a><strong>第三节 工作规程</strong></h4><p><strong>一、证券投资咨询业务的两类基本形式</strong></p><ol><li>发布证券研究报告</li><li>证券投资顾问</li></ol><p>根据<strong>服务对象</strong>的不同，证券投资咨询业务分为：</p><ul><li><strong>面向公众</strong>的投资咨询业务</li><li>为<strong>签订了咨询服务合同的特定对象</strong>提供的证券投资咨询业务</li><li>为<strong>本公司投资管理部门、投资银行部门</strong>的投资咨询服务</li></ul><p><strong>二、证券研究报告的分类</strong></p><ul><li>按研究内容分类：宏观研究、策略研究、公司研究、量化研究等</li><li>按研究品种分类：股票研究、基金研究、债券研究、衍生品研究等</li></ul><p><strong>三、证券研究报告的基本要素、组织结构和撰写要求</strong></p><ul><li><p>证券研究报告的基本要素包括：</p><ul><li>宏观经济、行业或上市公司的基本面分析</li><li>上市公司盈利预测、法规解读、估值及【投资评级】<sup><a href="#fn_基于基本面分析而做出的估值定价建议，不是具体的操作性买卖建议" id="reffn_基于基本面分析而做出的估值定价建议，不是具体的操作性买卖建议">基于基本面分析而做出的估值定价建议，不是具体的操作性买卖建议</a></sup></li><li>相关信息和风险提示 </li></ul><p><strong>四、证券研究报告信息收集要求</strong></p><ul><li>证券市场上各种信息的主要来源：1. 政府部门 2. 证券交易所 3. 证券登记结算公司 4. 中国证券业协会 5. 上市公司 6. 中介机构 7. 媒体 8. 其他来源</li></ul></li></ul><p><strong>五、发布研究报告的业务管理制度</strong></p><p>证券公司、证券投资咨询机构发布证券研究报告，应当建立健全信息隔离墙制度，并遵循下列<strong>静默期</strong>安排：</p><ul><li>担任发行人<strong>股票首次公开发行</strong>的保荐机构、主承销商或者财务顾问，自确定并公告发行价格之日起<strong>40日</strong>内，不得发布与该发行人有关的证券研究报告。<strong>非主承销商</strong>自确定并公告发行价格之日起<strong>25日</strong>内，不得发布与该发行人有关的证券研究报告。</li><li>担任<strong>上市公司股票增发、配股、发行可转换公司债券等再融资项目</strong>的保荐机构、主承销商或者财务顾问，自确定并公告公开发行价格之日起<strong>10日</strong>内，不得发布与该上市公司有关的证券研究报告。</li><li>担任<strong>上市公司并购重组财务顾问</strong>，在证券公司、证券投资咨询机构的合规部门将该上市公司列入相关限制名单期间，按照合规管理要求限制发布与该上市公司有关的证券研究报告。</li></ul><p><strong>六、证券研究报告的销售服务要求</strong></p><p>证券公司、证券投资咨询机构的研究部门或者研究子公司接受特定客户委托，按照协议约定就尚未覆盖的具体股票提供含有证券估值或投资评级的研究成果或投资分析意见的，自提供之日起<strong>6个月</strong>内不得就该股票发布证券研究报告。</p><p><strong>七、业务主体的合规管理</strong></p><ol><li><p>隔离墙制度与跨越隔离墙管理</p><p>隔离墙：证券公司以<strong>信息隔离为核心</strong>的内部控制机制，实现存在利益冲突的部门和业务的相互隔离，防止保密信息或非公开信息在相关部门间的有害传递，防范内幕交易和利益冲突。</p></li><li><p>静默期制度</p><p><strong>静默期</strong>：指证券机构担任<strong>证券公开发行活动的承销商或财务顾问</strong>，在本机构承销或管理的证券发行活动之前和之后的一段时期内，其研究人员不得对外发布关于该发行人的研究报告。</p><p><strong>意义</strong>：防止分析师为配合本公司投资银行业务调控发行人股价的需要，发布倾向性、误导性的研究报告。</p></li></ol><p>发布证券研究报告相关业务档案的保存期限自证券研究报告发布之日起不得少于<strong>5年</strong>。</p><h2 id="第二部分-专业基础"><a href="#第二部分-专业基础" class="headerlink" title="第二部分 专业基础"></a>第二部分 专业基础</h2><h3 id="第二章-经济学"><a href="#第二章-经济学" class="headerlink" title="第二章 经济学"></a>第二章 经济学</h3><h4 id="一、需求函数、需求曲线和需求弹性的含义"><a href="#一、需求函数、需求曲线和需求弹性的含义" class="headerlink" title="一、需求函数、需求曲线和需求弹性的含义"></a>一、需求函数、需求曲线和需求弹性的含义</h4><p><strong>（一）需求函数的含义</strong></p><p>一种商品的市场需求量$Q^d$与该商品的价格$P$的关系是：其他条件不变时，降价使需求量增加，涨价使需求量减少，即<strong>需求量</strong>是价格$P$的单调递减函数，称为<strong>需求函数</strong>。用公式表示为：</p><script type="math/tex; mode=display">Q^d=f(P)</script><p>一种商品的<strong>需求</strong>（有支付能力的需要）：是指消费者在一定时期内在各种可能的价格水平<strong>愿意而且能够购买</strong>的商品数量。</p><p><strong>需求的变动：</strong>是指在某商品价格不变的条件下，由于<strong>其他因素变动</strong>所引起的该商品的需求数量的变动。</p><p><strong>需求量的变动：</strong>是指在其他条件不变的条件下，由某商品的<strong>价格变动</strong>所引起的该商品需求数量的变动。</p><p><strong>（二）需求曲线的含义</strong></p><p>需求曲线表示在每一价格下所需求的商品数量。</p><p><img src="http://img.zhuhuaren.cn/img/需求曲线.png" alt="需求曲线"></p><p><strong>（三）需求弹性的含义</strong></p><p><strong>需求价格弹性</strong>简称价格弹性或需求弹性：是指需求量对价格变动的反应程度，是需求量变化的百分比除以价格变化的百分比。</p><script type="math/tex; mode=display">需求弹性=\frac{需求量变化的百分比}{价格变化的百分比}(需求弹性实际为负数，习惯看作为正数)</script><h4 id="二、供给函数、供给曲线和供给弹性的含义"><a href="#二、供给函数、供给曲线和供给弹性的含义" class="headerlink" title="二、供给函数、供给曲线和供给弹性的含义"></a>二、供给函数、供给曲线和供给弹性的含义</h4><p><strong>（一）供给函数的含义</strong></p><p><strong>供给</strong>：指厂商在一定时间内，在一定条件下，对某一商品<strong>愿意</strong>并且<strong>有商品出售</strong>的数量。</p><p><strong>供给函数</strong>：是指这种<strong>供给数量</strong>和<strong>影响该供给数量的各种因素</strong>之间的相互关系。<strong>供给量是因变量</strong>。</p><p>供给函数的一般形式为：</p><script type="math/tex; mode=display">Q^s=f(P)</script><p><strong>供给的变动</strong>：是指除了商品本身<strong>价格以外的其他影响供给量的因素</strong>变动引起的该商品供给量的变动。</p><p><strong>供给量的变动</strong>：是指其他影响供给的因素不变的情况下，只有<strong>商品本身价格变动</strong>引起的该商品供给量的变动。</p><p><strong>（二）供给曲线的含义</strong></p><p>供给曲线表示的是商品价格和供给量之间的函数关系。</p><p><img src="http://img.zhuhuaren.cn/img/供给曲线.png" alt="供给曲线"></p><p><strong>注:价格是因变量，供给量是自变量。</strong></p><p><strong>（三）供给弹性的含义</strong></p><p><strong>供给价格弹性</strong>：是指供给量相对价格变化做出的反应程度，即某种商品价格上升或下降<script type="math/tex">1\%</script>时，对该商品供给量增加或减少的百分比。</p><p>供给弹性公式：</p><script type="math/tex; mode=display">供给的价格弹性系数=\frac{供给量变动的百分比}{价格变动的百分比}</script><p><strong>供给弹性的影响因素</strong>：</p><ul><li>资源替代的可能性</li><li>供给决策的时间框架</li><li>增加产量所需追加生产要素费用的大小。</li></ul><h4 id="三、市场均衡原理"><a href="#三、市场均衡原理" class="headerlink" title="三、市场均衡原理"></a>三、市场均衡原理</h4><p><strong>（一）市场均衡的含义</strong></p><p>市场交易行为中，当买者愿意购买的数量正好等于卖者所愿意出售的数量时，我们称之为市场均衡，也可以称之为市场交易均衡量。</p><p><strong>（二）市场均衡的分类</strong></p><p>市场均衡分为<strong>一般均衡</strong>和<strong>局部均衡</strong>。</p><p><strong>一般均衡</strong>：是指一个经济社会所有市场的供给和需求相等的一种状态。</p><p><strong>代表人物</strong>：瓦尔拉斯。</p><p><strong>局部均衡</strong>：是指单个市场或部分市场的供给和需求相等的一种状态。</p><p><strong>代表人物</strong>：马歇尔。</p><p><strong>（三）市场均衡理论</strong></p><p><img src="http://img.zhuhuaren.cn/img/市场均衡线.png" alt="市场均衡线"></p><p>$D$线表示需求曲线，<script type="math/tex">S</script>线表示供给曲线，<script type="math/tex">E</script>点表示均衡点，$P_e$表示均衡价格，$Q_e$表示均衡产量。</p><p>（1）当市场价格$P_1&gt;P_e$时，$Q_s&gt;Q_d$，即市场上供给大于需求，若市场是充分竞争的，过剩的产品必然会导致价格下降，随着价格下降，需求增加，供给减少，最后会达到$E$点。</p><p>（2）当市场价格$P_1&lt;P_e$时，$Q_s&lt;Q_d$，即市场上供给小于需求，此时，价格的上升可以扩大供给，同时抑制消费，最后会达到$E$点。</p><p><strong>（四）市场划分</strong></p><p>微观经济学根据<strong>市场竞争程度的强弱</strong>来划分市场类型，影响市场竞争程度的因素主要有：</p><ul><li>市场上厂商数目</li><li>厂商之间各自提供产品的差别程度</li><li>单个厂商对市场价格的控制程度</li><li>厂商进入或退出一个行业的难易程度</li></ul><div class="table-container"><table><thead><tr><th></th><th>企业数目</th><th>产品差别</th><th>价格控制</th><th>进退行业</th></tr></thead><tbody><tr><td>完全竞争</td><td>众多</td><td>同质无差别</td><td>无法控制</td><td>自由进退</td></tr><tr><td>垄断竞争</td><td>许多</td><td>同种有差别</td><td>可以、影响小</td><td>比较容易</td></tr><tr><td>寡头竞争</td><td>少数</td><td>同质或异质</td><td>可以、影响大</td><td>不容易</td></tr><tr><td>完全垄断</td><td>唯一</td><td>唯一无替代品</td><td>任意控制</td><td>进入极困难</td></tr></tbody></table></div><h4 id="四、完全竞争市场的特征"><a href="#四、完全竞争市场的特征" class="headerlink" title="四、完全竞争市场的特征"></a>四、完全竞争市场的特征</h4><ul><li>生产者众多，各种生产资料可以完全流动</li><li>产品不论是有形或无形的，都是同质的，无差别的</li><li>没有一个企业能够影响产品的价格，企业永远是价格的接受者而不是价格的制定者</li><li>企业的盈利基本上由市场对产品的需求来决定</li><li>生产者可自由进入或退出这个市场</li><li>市场信息对买卖双方都是畅通的，生产者和消费者对市场情况非常了解</li></ul><p><strong>（一）利润最大化与完全竞争企业的供给曲线的含义</strong></p><ol><li><p><strong>利润最大化</strong></p><p><strong>总成本=固定成本+可变成本</strong>，即$TC=FC(Fixed\ Costs)+VC(Variable\ Costs)$。</p><p>利润最大化的原则：<strong>产量的边际收益等于边际成本</strong>，即$MR=MC$。</p><p>这一基本原则<strong>适用于所有类型的市场结构</strong>。</p></li><li><p><strong>完全竞争企业的供给曲线</strong></p></li></ol><p>（1）<strong>短期供给曲线</strong>：是指位于<strong>平均可变成本曲线最低点以上的那一部分边际成本曲线</strong>。</p><p><img src="http://img.zhuhuaren.cn/img/完全竞争厂商短期供给曲线.png" alt="完全竞争厂商短期供给曲线"></p><p>对于完全竞争厂商，$价格=边际收益,即P=MR$，在给定一个价格水平$P$下，厂商应该选择最优产量$Q$，使得$P=MC(Q)$，以实现利润最大化。根据短期均衡条件，$P=SMC$，在不同的价格水平下会选择相应不同的最优产量，只有$P≥AVC$时，厂商才会去生产，当$P&lt;AVC$时，厂商则会停止生产。<strong>所以厂商的短期供给曲线用$SMC$曲线上大于和等于$AVC$(短期平均可变成本)曲线最低点的部分来表示</strong>。</p><p>（2）<strong>长期供给曲线</strong>：根据行业产量变化对生产要素价格所可能产生的影响，将完全竞争行业分为：</p><ul><li>成本不变行业</li><li>成本递增行业</li><li>成本递减行业</li></ul><h4 id="五、完全垄断市场的特征"><a href="#五、完全垄断市场的特征" class="headerlink" title="五、完全垄断市场的特征"></a>五、完全垄断市场的特征</h4><p><strong>完全垄断市场</strong>：是指独家企业生产<strong>某种特质产品</strong>的情形，即<strong>整个市场完全处于一家企业所控制</strong>的市场结构。</p><p>特质产品：是指那些没有或缺少相近替代品的产品。</p><p>完全垄断可以分为<strong>两种类型</strong>：</p><ul><li>政府完全垄断。通常在公共事业中居多。</li><li>私人完全垄断。如根据政府授予的特许专营，或根据专利生产的独家经营以及由于资本雄厚，技术先进而建立的排他性私人垄断经营。</li></ul><p>现实生活中没有真正的完全垄断，<strong>公用事业（如发电厂、煤气公司、自来水公司和邮电通信等）和某些资本、技术高度密集型或稀有金属矿藏的开采等</strong>行业属于接近完全垄断的市场类型。</p><p><strong>完全垄断市场结构的特点</strong>：</p><ul><li>市场被独家企业所控制，其他企业不可以或不可能进入该行业。</li><li>产品没有或缺少相近的替代品。</li><li>垄断者能够根据市场的供需情况制定理想的价格和产量，在高价少销和低价多销之间进行选择。</li><li>垄断者在指定产品价格和生产数量方面的自由性是有限制的，要受到反垄断法和政府管制的约束。</li></ul><p><strong>（一）完全垄断企业的需求和边际收益曲线的含义</strong></p><ol><li><strong>完全垄断企业的需求曲线</strong></li></ol><p>在完全垄断市场上，市场上只有一家厂商，此时，需求曲线就表示<strong>需求量与价格成反方向变动</strong>的向右下方倾斜的曲线。</p><p><img src="http://img.zhuhuaren.cn/img/完全垄断厂商需求曲线.png" alt="完全垄断厂商需求曲线"></p><ol><li><strong>平均收益与边际收益曲线</strong></li></ol><p>在完全垄断市场上，平均收益仍等于价格，因此平均收益曲线（$AR$）仍然与需求曲线$D$重合。</p><p>在完全垄断市场上，当销售量增加时，产品价格会下降，从而导致<strong>边际收益减少</strong>，边际收益曲线（$MR$）也就不再与需求曲线重合了，而是位于需求曲线的下方，而且随着产量的增加，边际收益曲线与需求曲线的距离越来越大，表示<strong>边际收益比价格下降的更快</strong>。这样，平均收益就不会等于边际收益（在完全竞争条件下$P=AR=MR$），而是<strong>平均收益大于边际收益</strong>。</p><p><strong>（二）完全垄断企业的短期均衡与利润最大化原理</strong></p><ol><li><strong>垄断企业的短期均衡</strong></li></ol><p>（1）垄断企业实现盈亏平衡的短期均衡，需要要满足以下条件：</p><ul><li><p><strong>$SMC=MR$</strong>，即，边际成本=边际收益。</p></li><li><p><strong>$SAC=AR=P$</strong>，完全垄断市场中产品价格等于平均成本，即$P=AR$。</p><p>即，平均成本=平均收益。</p></li></ul><p><strong>恰好$M$点和$N$点连接垂直于$X$轴</strong>。</p><p><img src="http://img.zhuhuaren.cn/img/完全垄断市场厂商盈亏平衡短期均衡曲线.png" alt="完全垄断市场厂商盈亏平衡短期均衡曲线"></p><ol><li><p><strong>获得超额利润的厂商均衡</strong></p><p>（1）垄断企业实现获得超额利润短期均衡，需要要满足以下条件：</p><ul><li><p><strong>$SMC=MR$（保证获得最大利润）</strong>，即，边际成本=边际收益。</p></li><li><p><strong>$SAC&lt;AR=P$</strong>，完全垄断市场中产品价格等于平均成本，即$P=AR$。</p><p>即，平均成本&lt;平均收益</p></li></ul></li></ol><p><img src="http://img.zhuhuaren.cn/img/完全垄断市场厂商盈亏平衡短期均衡曲线.png" alt="完全垄断市场厂商获得超额利润均衡曲线"></p><ol><li><p><strong>亏损厂商的短期均衡</strong></p><p>（1）垄断企业亏损的短期均衡，需要要满足以下条件：</p><ul><li><p><strong>$SMC=MR$</strong>，即，边际成本=边际收益。</p></li><li><p><strong>$SAC&gt;AR=P$</strong>，完全垄断市场中产品价格等于平均成本，即$P=AR$。</p><p>即，平均成本&gt;平均收益。</p></li></ul></li></ol><p><img src="http://img.zhuhuaren.cn/img/完全垄断市场亏损厂商短期均衡曲线.png" alt="完全垄断市场亏损厂商短期均衡曲线"></p><ol><li><p><strong>垄断厂商生产规模的调整</strong></p><p>由图可知，在市场均衡产量为$Q_0$时，厂商处于亏损状态，根据$TC=FC+VC$，在$P=AR&gt;AVC$时，企业获得的利润不仅可以弥补可变成本$VC$，同时还能减少一部分固定成本$FC$的损失，<strong>即只有当$P=AR≥AVC$时，企业才可以持续经营，即$M$点为企业的停止营业点</strong>。</p><p><img src="http://img.zhuhuaren.cn/img/完全垄断市场厂商生产规模的调整曲线.png" alt="完全垄断市场厂商生产规模的调整曲线"></p></li></ol><ol><li><p><strong>垄断企业的利润最大化</strong></p><p><strong>垄断企业的利润最大化</strong>：是指垄断厂商如何以最小的投入获得最大的产出，进而实现利润的最大化。</p><p><strong>垄断企业的利润最大化的实现途径</strong>：</p><ul><li>通过调节产量和价格实现利润最大化</li><li>利润最大化时的产量是由需求状况和成本状况共同决定的</li><li>利润最大化条件为边际收益等于边际成本，即$MC=MR$</li></ul></li></ol><p><strong>（三）垄断企业供给曲线的含义</strong></p><p>由于完全垄断市场的市场价格和企业产量是同时决定的，两者并无严格的一一对应关系，所以完全垄断市场不存在一条确定性的短期供给曲线。<strong>在完全垄断市场上，完全垄断企业的均衡产量不仅取决于边际成本曲线，而且取决于需求曲线，即平均收益曲线和边际收益曲线</strong>。</p><p><strong>（四）垄断企业的长期均衡</strong></p><p>在长期中，垄断厂商可以通过<strong>调节产量和价格</strong>来实现利润最大化。</p><p>此时厂商均衡的条件为：</p><ul><li>$MR=LMC$和$MR=SMC$，即<strong>$LMC=SMC=MR$</strong>。</li></ul><p>假设垄断厂商现有设备的短期平均成本曲线为$SAC_0$，为了获取最大利润，其销售的产量为$Q_0$，即$SMC_0=MR$。在产量为$Q_0$时，$SMC_0≠LMC$，所以这样的均衡是短期均衡，而不是长期均衡。</p><p>在长期内，为了扩大市场规模，其将扩大厂房和设备的规模，增加产品产量，当产量增加至$Q_1$时，产品价格为$P_1$，其短期平均成本曲线为$SAC_1$，即在$M$点，$SMC_1=MR=LMC$，实现了长期均衡。<strong>长期均衡与短期均衡的区别是，短期均衡不要求$LMC=MR$，而长期均衡要求$LMC=MR$</strong>。</p><p>通过以上分析可知，在短期中，垄断厂商无法调整全部生产要素，因此不一定能实现利润最大化，但是在长期中，垄断厂商可以调整全部生产要素，因此能够实现利润最大化</p><p><img src="http://img.zhuhuaren.cn/img/完全垄断市场垄断企业的长期均衡曲线.png" alt="完全垄断市场垄断企业的长期均衡曲线"></p><h4 id="六、垄断竞争市场的特征"><a href="#六、垄断竞争市场的特征" class="headerlink" title="六、垄断竞争市场的特征"></a>六、垄断竞争市场的特征</h4><p>垄断竞争市场<strong>竞争程度大，垄断程度小，比较接近完全竞争市场</strong>。</p><ul><li>市场中存在者较多的厂商，彼此之间存在着较为激烈的竞争</li><li>厂商所生产的产品是有差别的，或称“异质商品”<strong>（产品差别越大，垄断程度越高）</strong></li><li>厂商进入或退出该行业都比较容易，资源流动性较强</li></ul><p><strong>（一）垄断竞争企业的短期均衡原理</strong></p><ul><li>短期竞争市场的但其均衡条件：$MR=MC$</li></ul><p>垄断竞争厂商在决定价格和产量的方式时与垄断厂商完全一致。<strong>短期内</strong>，无论厂商是盈利还是亏损，即$MR&gt;MC$或$MR&lt;MC$，都不会吸引有新的厂商加入或原有厂商退出。<strong>长期中</strong>，厂商盈利或亏损，则会导致新的厂商进入或原有厂商退出。</p><p>下图为盈利状态时的短期均衡曲线：$P_{1}HQ_{1}O$表示的为收益，即$Q_{1}P_{1}$；$MNQ_{1}O$表示的为成本，即$Q_{1}SAC$；则$P_{1}HNM$表示的为利润，即$Q_{1}P_{1}-Q_{1}SAC$。</p><p><img src="http://img.zhuhuaren.cn/img/垄断竞争企业的短期均衡曲线.png" alt="垄断竞争企业的短期均衡曲线"></p><p>亏损状态时的短期均衡曲线同理。</p><p><strong>（二）垄断竞争企业的长期均衡原理</strong></p><p>在长期内，厂商可以任意变动一切生产投入要素。如果某一行业出现超额利润或亏损，则会通过新的厂商进入或原有厂商推出，从而使得超额利润或亏损消失。<strong>因此垄断竞争企业同完全竞争企业一样，不存在超额利润，只能获得正常利润</strong>。</p><p>垄断竞争市场的长期均衡条件为：</p><ul><li>$MR=MC$</li><li>$P=AR=AC$</li></ul><p><img src="http://img.zhuhuaren.cn/img/垄断竞争企业的长期均衡曲线.png" alt="垄断竞争企业的长期均衡曲线"></p><p><strong>（三）垄断竞争企业的价格变动曲线</strong></p><p><img src="http://img.zhuhuaren.cn/img/垄断竞争厂商需求曲线.png" alt="垄断竞争厂商需求曲线"></p><p><strong>关于$\alpha$需求曲线</strong>。$\alpha$需求曲线表示：在垄断竞争生产集团中的某个厂商改变产品价格，而其他厂商的产品价格都保持不变时，该厂商的产品价格和销售量之间的关系。<br>在图中，假定某垄断竞争厂商开始时处于价格为$P_2$，此时产量为$Q_2$，当价格降至$P_3$时，由于其他厂商的产品价格都保持不变，所以预期对应产量应为$Q_4$。</p><p><strong>关于$\beta$需求曲线</strong>。$\beta $需求曲线表示：在垄断竞争生产集团的某个厂商改变产品价格，而且集团内的其他所有厂商也使产品价格发生相同变化时，该厂商的产品价格和销售量之间的关系。<br>在图中，如果某垄断竞争厂商将价格由$P_2$下降为$P_3$时，集团内其他所有厂商也都将价格由$P_2$下降为$P_3$，于是，该垄断竞争厂商的实际销售量是$\beta$需求曲线上的$Q_3$，$Q_3$小于它的预期销售量即$\alpha$需求曲线上的$Q_4$。</p><h4 id="七、寡头竞争市场的特征"><a href="#七、寡头竞争市场的特征" class="headerlink" title="七、寡头竞争市场的特征"></a>七、寡头竞争市场的特征</h4><p><strong>寡头竞争市场</strong>：是指少数几家大企业联合起来控制市场上某一产品生产和销售的绝大部分。</p><ul><li>厂商极少</li><li>相互依存</li><li>产品同质或异质</li><li>进出不易</li></ul><h4 id="八、古诺模型的原理"><a href="#八、古诺模型的原理" class="headerlink" title="八、古诺模型的原理"></a>八、古诺模型的原理</h4><p><strong>古诺模型</strong>又称古诺双寡头模型或双寡头模型，古诺模型是早期的寡头模型。</p><p><strong>古诺模型的假定</strong>：市场上只有A、B两个厂商生产和销售相同产品，A、B两个厂商都是在已知对方产量的情况下，各自确定给自己带来最大利润的产量，<strong>即每个厂商都是消极地一自己的产量去适应对方已确定的产量</strong>。</p><p>古诺模型阐述了相互竞争而没有相互协调的厂商的产量决策是如何相互作用从而产生一个位于竞争均衡和垄断均衡之间的结果。</p><h4 id="九、纳什均衡的基本原理"><a href="#九、纳什均衡的基本原理" class="headerlink" title="九、纳什均衡的基本原理"></a>九、纳什均衡的基本原理</h4><p><strong>纳什均衡</strong>又称非合作博弈均衡，是一种策略组合，<strong>使得同一时间内每个参与人的策略是对其他参与人策略的最优反应</strong>。</p><p>假设有N个人参加博弈，<strong>如果某种情况下无一参与者可以单独行动而增加收益（即为了自身利益的最大化，没有任何的一方愿意改变策略的）</strong>，则此策略组合被称为纳什均衡。所有参与者的策略构成一个策略组合，纳什均衡从本质上说，是一种<strong>非合作博弈状态</strong>。</p><p>纳什均衡达成时，<strong>并不意味着博弈双方都处于不动状态</strong>，在顺序博弈中这个均衡是在博弈者连续的动作和反应中达成的。</p><p>纳什均衡也<strong>不意味着博弈双方达到了一个整体的最优状态，最优策略不一定达成纳什均衡，严格劣势策略不可能成为最佳策略，而弱优势和弱劣势策略则有可能达成纳什均衡</strong>。</p><p><strong>一个博弈中可能有一个以上的纳什均衡，而囚徒困境中有且只有一个纳什均衡</strong>。</p><p><strong>纳什均衡分为两类</strong>：纯战略纳什均衡和混合战略纳什均衡。</p><ul><li>纯战略：是指在每个给定的信息下，只能选择一种特定策略，这个策略为纯战略。</li><li>混合战略：是指博弈的参与者以一定的概率去选择某种战略。</li></ul><p>纯战略纳什均衡：即参与者都玩纯战略。</p><p>混合战略纳什均衡：参与者至少有一位玩家玩混合战略。</p><h4 id="十、囚徒困境的基本原理"><a href="#十、囚徒困境的基本原理" class="headerlink" title="十、囚徒困境的基本原理"></a>十、囚徒困境的基本原理</h4><p><strong>囚徒困境的基本原理</strong>：两个被捕囚徒之间的一种特殊博弈，说明为什么甚至在合作对双方都有利时，保持合作也是困难的。</p><p><strong>囚徒困境博弈</strong>：</p><div class="table-container"><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">A坦白</th><th style="text-align:center">A抵赖</th></tr></thead><tbody><tr><td style="text-align:center">B坦白</td><td style="text-align:center">-8，-8</td><td style="text-align:center">0，-10</td></tr><tr><td style="text-align:center">B抵赖</td><td style="text-align:center">-10，0</td><td style="text-align:center">-1，-1</td></tr></tbody></table></div><h4 id="十一、社会总需求、总供给的含义"><a href="#十一、社会总需求、总供给的含义" class="headerlink" title="十一、社会总需求、总供给的含义"></a>十一、社会总需求、总供给的含义</h4><p><strong>（一）社会总需求的含义</strong></p><p><strong>社会总需求</strong>：是指一个国家或地区在一定时期内（通常是1年）由<strong>社会可用于投资和消费的支出所实际形成的对产品和劳务的购买力总量</strong>。包括<strong>国内需求和国外需求</strong>。</p><ol><li><p><strong>国内需求</strong>：分为<strong>投资需求</strong>和<strong>消费需求</strong>。</p><p><strong>（1）投资需求</strong>（又称为投资支出）：是指整个社会在一定时期内<strong>通过货币资金的支出所形成的对投资品的需求</strong>。</p></li></ol><ul><li><p>从构成上：<strong>固定资产投资</strong>和<strong>流动资产投资</strong></p></li><li><p>从资金来源上：<strong>重置投资</strong>和<strong>新增投资</strong></p><ul><li>新增投资：<strong>新增固定资产投资</strong>和<strong>新增流动资产投资</strong></li></ul><p><strong>（2）消费需求（又称消费支出）</strong>：是指整个社会在一定时期内通过货币资金的支出形成的对消费品和劳务的需求。</p></li><li><p>从消费形式上：包括<strong>居民个人消费</strong>和<strong>社会公共消费</strong></p><ul><li>社会公共消费：一是<strong>服务部门</strong>对公共消费品和服务的需求；二是<strong>物质生产部门</strong>为供集体消费之用而对消费品和服务的需求。</li></ul></li></ul><ol><li><strong>国外需求</strong>：即<strong>产品和劳务的输出</strong>。</li></ol><p><strong>（二）社会总供给的含义</strong></p><p><strong>社会总供给</strong>：是指一个国家或地区在一定时期内（通常是1年）由<strong>社会生产活动实际可以提供给市场的可供最终使用的产品和劳务总量</strong>。</p><p>社会总供给分为两个部分：（1）国内生产活动提供的产品和劳务（2）国外提供的产品和劳务。</p><p><strong>社会总供给计算公式</strong>：</p><script type="math/tex; mode=display">社会总供给=本期国内生产总值+本期进口-本期不可分配部分</script><p>由于各时期的供求情况相互影响，考虑到各时期间的衔接，公式又可表示为：</p><script type="math/tex; mode=display">社会总供给=本期形成的社会总供给+期初供给结余总额</script><h4 id="十二、宏观经济均衡的基本原理"><a href="#十二、宏观经济均衡的基本原理" class="headerlink" title="十二、宏观经济均衡的基本原理"></a>十二、宏观经济均衡的基本原理</h4><p><strong>（一）宏观经济均衡的概念</strong></p><p><strong>宏观经济均衡</strong>：是指<strong>社会总需求与社会总供给</strong>在<strong>总量与结构之间</strong>的基本平衡。</p><p>宏观经济均衡：包括<strong>内部均衡</strong>和<strong>外部均衡</strong>。</p><ul><li>内部均衡：<ul><li>经济增长</li><li>物价稳定</li><li>充分就业</li></ul></li><li>外部均衡：<ul><li>国际收支平衡</li></ul></li></ul><p><strong>宏观经济均衡的条件</strong>：意愿总需求等于意愿总供给的GDP水平。在均衡时，意愿的</p><p>$消费(C)+政府支出(G)+投资(I)+净出口(X)=当前价格水平下企业所愿意出售的总量$。</p><p><strong>（二）宏观经济均衡的类型</strong></p><ol><li><p>短期宏观经济均衡</p><p><strong>短期宏观经济均衡</strong>：是指总需求等于短期总供给。</p><p>可能出现的三种状态：</p><ul><li>充分就业均衡</li><li>低于充分就业均衡（失业均衡）</li><li>通货膨胀均衡</li></ul></li><li><p>长期宏观均衡</p><p><strong>长期宏观经济均衡</strong>：是指总需求等于长期总供给。</p></li></ol><h4 id="十三、产品市场和货币市场的一般均衡"><a href="#十三、产品市场和货币市场的一般均衡" class="headerlink" title="十三、产品市场和货币市场的一般均衡"></a>十三、产品市场和货币市场的一般均衡</h4><p><strong>（一）产品市场的一般均衡</strong></p><p>产品市场均衡：是指<strong>产品市场中总需求等于总供给</strong>时各经济变量的状态。</p><ol><li>两部门经济中产品市场的均衡方程<script type="math/tex; mode=display">\begin{equation}\left\{\begin{array}{}I = S & 均衡条件 \\I = I(r) = e - d * r & 投资函数 \\S = S(y) = -\alpha + (1 - \beta) * y & 储蓄函数\end{array}\right.\end{equation}</script>得到：</li></ol><script type="math/tex; mode=display">y = \frac{\alpha + e - d * r}{1 - \beta} 或r = \frac{e + \alpha}{d} - \frac{1 - \beta}{d} * y</script><ol><li><p>三部门经济中产品市场的均衡方程</p><script type="math/tex; mode=display">\begin{equation}\left\{\begin{array}{}Y = C + I + G & 均衡条件 \\C = \alpha + \beta * (y - t_0 -t*y + t*r) & 消费函数 \\I = e - d * r & 投资函数 \\G = G_0 & 政府支出\end{array}\right.\end{equation}</script><p>得到：</p><script type="math/tex; mode=display">r = \frac{\alpha + e + G_0 + \beta * (t * r - t_0)}{d} - \frac{1 - \beta * (1 - t)}{d} * y</script><p><strong>（二）货币市场的均衡</strong></p><p><strong>货币市场均衡</strong>：是指<strong>货币市场上货币需求等于货币供给</strong>时的状况。</p></li></ol><script type="math/tex; mode=display">\begin{equation}\left\{\begin{array}{}L = M_s & 均衡条件 \\L = L_1(Y) + L_2(r) = k * y - h * r & 货币需求函数 \\M_s = m & 货币供给为常数 \\\end{array}\right.\end{equation}</script><p>得到：</p><script type="math/tex; mode=display">m = k * y - h * r</script><p>当<strong>$m$为一定量时，若$L_1$增加，$L_2$必须减少</strong>，否则就不能保持货币市场的均衡。</p><h4 id="十四、-IS-LM-模型"><a href="#十四、-IS-LM-模型" class="headerlink" title="十四、$IS-LM$模型"></a>十四、$IS-LM$模型</h4><p><strong>（一）$IS-LM$模型的提出与发展</strong></p><p>$IS-LM$模型最初由<strong>英国经济学家J.希克斯</strong>在<strong>1937年</strong>发表的《凯恩斯先生与古典学派》疑问中提出的，1948年<strong>美国经济学家A.汉森</strong>在《货币理论与财政政策》以及1953年在《凯恩斯学说指南》中对这一模型做了解释，因此这一模型又被称为“希克斯-汉森”模型，通称<strong>凯恩斯修正模型</strong>。</p><p>$IS-LM$模型是凯恩斯宏观经济学的核心，凯恩斯主义的全部理论与政策分析都是围绕这一模型而展开的。</p><p><strong>（二）$IS-LM$模型</strong></p><p><strong>$IS-投资储蓄均衡曲线,LM-货币需求供给均衡曲线$</strong>。</p><p><strong>在$IS$曲线上，利率和国民收入使得产品市场实现均衡。在$LM$曲线上，利率和国民收入使得货币市场实现均衡</strong>。</p><p><img src="http://img.zhuhuaren.cn/img/IS-LM曲线.png" alt="IS-LM曲线"></p><p><strong>在上图$E$点，利率和国民收入使得实现产品市场和货币市场同时均衡</strong>。</p><p><strong>（三）$IS$曲线和$LM$曲线移动</strong></p><ol><li>当货币需求不变时，中央银行增加货币供给，意味着货币市场上供大于求，这必然导致利率下降。</li><li>政府增加税收会使总支出减少，相应地总收入也会减少；当货币供给不变时，利率会下降，反映到$IS-Lm$模型上体现 为$IS$曲线向左移动。</li><li><p>政府等量地增加政府购买和税收，根据平衡预算乘数$K_b=K_g+K_t(其中K_b为1，K_g为政府购买乘数，K_t为税收乘数)$，国民收入会增加，增加幅度为与政府购买和税收变动相等的数量。</p><ul><li>增加政府购买会使总支出增加，会使$IS$曲线向右移动。</li><li>增加税收会使总支出减少，会使$IS$曲线向左移动。</li><li>由于政府购买乘数大于税收乘数（$K_g=△Y/△G=1/(1-\beta),K_f=△Y/△T=-\beta/(1-\beta),(其中\beta为边际消费倾向)$），即$K_g&gt;|K_f|$，最终会使$IS$曲线向右移动，导致利率上升、收入增加，消费增加和投资增加。</li></ul></li><li><ul><li>如果投资并不取决于利率，$IS$曲线是<strong>垂直</strong>的</li><li>如果货币需求并不取决于利率，$LM$曲线是<strong>垂直</strong>的</li><li>如果货币需求对利率极为敏感，$LM$曲线是<strong>水平</strong>的</li><li>如果货币需求并不取决于收入，$LM$曲线是<strong>水平</strong>的</li></ul></li></ol><p>$IS$曲线移动时，不仅收入会变动，利率也会变动：</p><ul><li>当$LM$曲线不变而<strong>$IS$向右上方移动时，不仅收入提高，利率也上升</strong>。</li><li>当$LM$曲线不变而<strong>$IS$曲线向左下移动时，收入和利率都会下降</strong>。</li><li>当$IS$曲线不变而<strong>$LM$曲线向右下移动时，收入提高，利率下降</strong>。</li><li>当$IS$曲线不变而<strong>$LM$曲线向左上移动时，收入下降，利率上升</strong>。</li></ul><h4 id="十五、可贷资金市场均衡、外汇市场均衡及可贷资金市场和外汇市场同时均衡"><a href="#十五、可贷资金市场均衡、外汇市场均衡及可贷资金市场和外汇市场同时均衡" class="headerlink" title="十五、可贷资金市场均衡、外汇市场均衡及可贷资金市场和外汇市场同时均衡"></a>十五、可贷资金市场均衡、外汇市场均衡及可贷资金市场和外汇市场同时均衡</h4><p><strong>（一）可贷市场均衡</strong></p><p><strong>可贷资金市场</strong>：是指筹资者能够借贷资金、投资者可以提供资金的市场。可贷资金来自国民储蓄，包括<strong>私人储蓄</strong>和<strong>公共储蓄</strong>。</p><p><strong>可贷资金市场均衡</strong>：是指资金需求曲线和资金供给曲线相交时，可贷资金市场实现了均衡，焦点决定了均衡利率和均衡货币量。</p><p><strong>（二）外汇市场均衡</strong></p><p>外汇市场均衡用公式表示为：</p><script type="math/tex; mode=display">NCO(Net \ captital \ outflow)=NX(Net \ export)\\资本净流出=净出口</script><p>上式表明，<strong>国外资本买卖之间的不平衡</strong>等于<strong>物品与劳务进出口之间的不平衡</strong>。</p><p><img src="http://img.zhuhuaren.cn/img/外汇市场均衡曲线.png" alt="外汇市场均衡曲线"></p><p>当真实汇率高于均衡水平，那么美元供给量将大于需求量，美元过剩将使美元价值下降，真实汇率下降。</p><p>当真实汇率低于均衡水平，那么美元供给量将小于需求量，美元短缺将使美元价值上升，真实汇率上升。</p><p><strong>（三）可贷资金市场和外汇市场同时均衡</strong></p><p><img src="http://img.zhuhuaren.cn/img/可贷资金市场和外汇市场同时均衡曲线.png" alt="可贷资金市场和外汇市场同时均衡曲线.png"></p><h3 id="第三章-金融学"><a href="#第三章-金融学" class="headerlink" title="第三章 金融学"></a>第三章 金融学</h3><h4 id="一、单利和复利的含义"><a href="#一、单利和复利的含义" class="headerlink" title="一、单利和复利的含义"></a>一、单利和复利的含义</h4><p>单利利息计算公式：</p><script type="math/tex; mode=display">I=PV*i*t</script><p>$式中：I为利息；PV为本金；i为年利率；t为计息时间。$</p><p>单利终值的计算公式：</p><script type="math/tex; mode=display">FV=PV*(1+i*t)</script><p>单利的现值计算公式：</p><script type="math/tex; mode=display">PV=\frac{FV}{1+i*t}≈\frac{FV}{1-i*t}</script><p>复利终值计算公式：</p><script type="math/tex; mode=display">FV=PV*(1+i)^n</script><p>$式中：(1+i)^n为复利终值系数或1元的复利终值。$</p><p>复利现值计算公式：</p><script type="math/tex; mode=display">PV=\frac{FV}{(1+n)^n}</script><p>$式中：\frac{1}{(1+i)^n}为复利现值系数或1元的复利现值。$</p><p><strong>可见，在其他条件相同的条件下，单利计息的现值要高于用复利计息的现值。根据终值求现值的过程被称为贴现</strong>。</p><h4 id="二、连续复利的含义"><a href="#二、连续复利的含义" class="headerlink" title="二、连续复利的含义"></a>二、连续复利的含义</h4><p><strong>连续复利</strong>：是指在期数趋于无限大的极限情况下得到的利率，此时不同期之间的间隔很短，可以看作是无穷小量。</p><p>假设本金$P_0$，年利率为$i$，当每年含有$m$个结算周期（即若3个月为一个结算周期，则$m$=4，若1个月为一个结算周期，则$m=12$），则$n$年后的本利和为：</p><script type="math/tex; mode=display">P_n=P_0*(1+\frac{i}{m})^{mn}=P_0*(1+\frac{i}{m})^{\frac{1}{i/m}*ni}</script><p>当复利结算周期数$m→∞$时，则意味着资金的运用率达到了最高，$(1+\frac{i}{m})^{\frac{1}{i/m}}$</p><p>的极限为$e$，即：</p><script type="math/tex; mode=display">\lim_{n\rightarrow+\infty}(1+\frac{i}{m})^{\frac{1}{i/m}}=e</script><p>所以当$m→∞$连续复利的本利和公式为：</p><script type="math/tex; mode=display">P_n=P_0*e^{ni}</script><p>$式中：e^{ni}称为瞬间复利系数或1元瞬间复利本利和。$</p><h4 id="三、无风险利率和风险"><a href="#三、无风险利率和风险" class="headerlink" title="三、无风险利率和风险"></a>三、无风险利率和风险</h4><p><strong>（一）无风险利率</strong></p><p><strong>无风险利率</strong>：是指将资金投资于某一项没有任何风险的投资对象而能得到的利息率。一般受基准利率影响。在资本市场上美国国库券的利率通常被认为是无风险利率。</p><ol><li><p>无风险利率的度量方法</p><p>（1）用短期国债利率作为无风险利率</p><p>（2）用利率期限结构中的远期利率来估计远期的无风险利率</p><p>（3）用即期的长期国债利率作为市场无风险利率</p><p><strong>在国际上，一般采用短期国债利率作为市场无风险利率</strong>。</p></li><li><p>无风险利率的主要影响因素</p><p>（1）资产市场化程度</p><p>（2）信用风险因素</p><p>（3）流动性因素</p><p><strong>资产市场化程度越高、信用风险越低、流动性越强，无风险利率就越接近实际情况</strong>。</p></li></ol><p><strong>（二）风险的评价、偏好以及风险溢价</strong></p><p><strong>风险评价</strong>：是指在<strong>风险识别</strong>和<strong>风险估测</strong>的基础上，对风险发生的<strong>概率、损失程度，结合其他因素</strong>进行全面考虑，评估<strong>发生风险的可能性及其危害程度</strong>，并与公认的安全指标相比较，以衡量风险的程度，并决定是否需要采取相应措施的过程。</p><p><strong>风险偏好</strong>：是指企业在实现其目标的过程中愿意接受的风险的数量。根据投资者对风险的偏好程度将其分为<strong>风险回避者、风险追求者、风险中立者</strong>。</p><p><strong>风险溢价</strong>：是指由于投资者<strong>承担了风险而相应可以获得高出无风险资产收益的收益</strong>，$\bar{r}_m-r_f$为市场组合M的风险溢价。</p><p><strong>风险溢价的影响因素</strong>：</p><p>（1）信用风险因素</p><p>（2）流动性因素</p><p>（3）到期日因素（到期日越长，风险溢价越高）</p><h4 id="四、资本资产定价模型"><a href="#四、资本资产定价模型" class="headerlink" title="四、资本资产定价模型"></a>四、资本资产定价模型</h4><p>（一）资本资产模型的主要思想</p><p>资本资产定价模型认为<strong>只有单一证券或证券组合的系统性风险才能获得收益补偿，其非系统性风险得不到补偿</strong>。</p><p><strong>超额收益</strong>：一般来用$\alpha$来描述。如果市场期望收益率为$12\%$，某只股票的$\beta$值为$1.2$，短期国库券利率为$6\%$，根据证券市场线可以的得出这只股票的期望收益率为$6\%+1.2*(12\%-6\%)=13.2\%$，如果这只股票的实际收益率为$15\%$，则超额收益率$\alpha$为$1.8\%$。</p><p><img src="http://img.zhuhuaren.cn/img/资产的阿尔法值.png" alt="资产的阿尔法值"></p><p><strong>（一）资本资产定价模型的假设条件</strong></p><ol><li>所有投资者都是风险的厌恶者，且追求效用最大化，购买有效前沿与无差异曲线的切点的最优组合。</li><li>所有投资者可以以无风险利率任意地借入或贷出资金。</li><li>所有投资者的期望都是相同的。</li><li>所有投资者的投资期限都是相同的，且不在投资期限内对投资组合进行调整。</li><li>所有的投资都可以无限分割，投资数量随意。</li><li>无摩擦市场（没有税收和交易费用）</li><li>所有投资者都是价格的接受者。</li></ol><p><strong>（二）资本资产定价模型公式</strong></p><script type="math/tex; mode=display">\bar{r}_a=r_f+\beta_a*(\bar{r}_m-\bar{r}_f)</script><p>$式中：r_f为无风险利率；\beta_a为证券的Beta系数；\bar{r}_m为市场期望回报率；(\bar{r}_m-\bar{r}_f)为股票市场溢价。$</p><h4 id="五、资本市场线和证券市场线"><a href="#五、资本市场线和证券市场线" class="headerlink" title="五、资本市场线和证券市场线"></a>五、资本市场线和证券市场线</h4><p><strong>（一）资本市场线</strong></p><p><strong>资本市场线（CML）</strong>：是指表明有效组合的期望收益率和标准差之间的一种简单的线性关系的一条射线。它是沿着投资组合的有效边界，<strong>由风险资产和无风险资产构成的投资组合</strong>。</p><p><strong>切点投资组合的三个重要特征</strong>：</p><ul><li>它是有效边界上唯一一个不含无风险资产的投资组合</li><li>有效边界上任何投资组合都可看做是切点投资组合M与无风险资产的再组合</li><li>切点投资组合完全由市场决定，与投资者无关</li></ul><p><strong>资本市场线表达式为</strong>：</p><script type="math/tex; mode=display">E(r_p)=r_f+r_e*\sigma_P</script><p>$式中：r_P为任意有效组合P的收益率；r_f为无风险收益率；r_e为资本市场线斜率；\sigma_P为有效组合P的标准差。$</p><p><img src="http://img.zhuhuaren.cn/img/资本市场线.png" alt="资本市场线"></p><p><strong>（二）证券市场线</strong></p><p><strong>证券市场线（SML）</strong>：是指主要用来说明<strong>投资组合报酬率与系统风险程度β系数之间</strong>的关系。证券市场线<strong>揭示了市场上所有风险性资产的均衡期望收益率与风险之间</strong>的关系。</p><p><strong>资本市场线的表达式为</strong>：</p><script type="math/tex; mode=display">\bar{R}_i=R_f+(\bar{R}_m-R_f)*\beta_i</script><p>$式中：\bar{R}_i为期望收益率；\bar{R}_m为市场期望回报率；R_f为无风险利率；\beta_i为系统风险系数。$</p><p>由上式可知，风险资产的的收益由两部分构成：无风险资产的收益$R_f$和市场风险溢价收益$(\bar{R}_m-R_f)$。</p><p><img src="http://img.zhuhuaren.cn/img/证券市场线.png" alt="证券市场线"></p><p><strong>（三）证券系数$\beta$的含义和应用</strong></p><ol><li><p>$\beta$系数的计算</p><script type="math/tex; mode=display">\beta_a=\frac{Cov(r_a,r_m)}{\sigma^2_m}</script><p>$式中：COV(r_a,r_m)为证券a的收益的市场收益的协方差；\sigma^2_m为市场收益的方差。$</p><p>由于：</p><script type="math/tex; mode=display">Cov(r_a,r_m)=\rho{am}\sigma_a\sigma_m</script><p>所以也可写为：</p><script type="math/tex; mode=display">\beta_a=\rho{am}* \frac{\sigma_a}{\sigma_m}</script></li></ol><p>   $式中：\rho_{am}为证券a与市场的相关系数；\sigma_a为证券a的标准差；\sigma_m为市场的标准差。$</p><ol><li>$\beta$系数的含义</li></ol><p>（1）$\beta$系数反映单一证券或证券组合相对市场的波动性。</p><p>（2）$\beta$系数反映了单一证券或证券组合的收益水平对市场平均收益水平变化的敏感性。</p><p>（3）$\beta$系数是衡量证券承担系统风险水平的指数。</p><ol><li><p>$\beta$系数的应用</p><p>（1）证券的选择。</p><ul><li>一般而言，<strong>牛市选择$\beta$系数较大的股票，以期获得较高收益</strong>；熊市则相反。</li></ul><p>（2）风险控制。</p><p>（3）投资组合绩效评价。</p></li></ol><h4 id="六、因素模型"><a href="#六、因素模型" class="headerlink" title="六、因素模型"></a>六、因素模型</h4><p><strong>（一）因素模型的含义</strong></p><p>因素模型是建立在<strong>证券收益率对各种因素或指数变动具有一定敏感性</strong>的假设基础之上的一种模型。也称<strong>指数模型或夏普模型</strong>。</p><p>假定除了证券市场风险（系统风险）以外，还存在N个影响证券收益率的非市场风险（非系统性风险），则在资本定价模型的基础上可以得出多因素模型，用公式表示为：</p><script type="math/tex; mode=display">\bar{r}i=r_f+\beta{i,m}(\bar{r}m-r_f)+\beta{i,f_1}(\bar{r}{f{1}}-r_f)+\beta{i,f_2}(\bar{r}{f{2}}-r_f)+...+\beta{i,f_n}(\bar{r}{f{n}}-r_f)</script><p>$式中：f_1,f_2,…,f_n为1到N个非市场风险因素；\beta_{i,m}为第i种资产的市场风险溢价系数；\\\qquad \beta_{i,f_1},\beta_{i,f_2}…\beta_{i,f_n}为1到N个非市场风险因素的溢价系数；\bar{r}_{f_{1}},\bar{r}_{f_{2}}…\bar{r}_{f_{n}}为因素1到N的期望收益率。$</p><p><strong>（二）因素模型的应用</strong></p><p>因素模型的应用已知目前无风险率是$3\%$，市场风险和非市场风险因素1、2、3的风险溢价分别为$5\%,6\%,7\%,8\%$，如果某股票与风险因素相对应的系数分别为1.5、2、2.5和3，则该股票的期望收益率为：</p><script type="math/tex; mode=display">\bar{r}_i = 3\%+1.5*(5\%-3\%)+2*(6\%-3\%)+2.5*(7\%-3\%)+3*(8\%-3\%)=37\%</script><h4 id="七、信息类型和市场有效性"><a href="#七、信息类型和市场有效性" class="headerlink" title="七、信息类型和市场有效性"></a>七、信息类型和市场有效性</h4><p>尤金·法玛依据时间维度将信息划分为：</p><ul><li>历史信息</li><li>当前公开可得信息</li><li>内部信息</li></ul><p>在信息划分基础上将市场分为：</p><ul><li>弱有效市场</li><li>半强有效市场</li><li>强有效市场</li></ul><p><strong>弱有效市场</strong>：是指证券价格能够充分反映价格历史序列中包含的所有信息，如证券的价格、交易量等。</p><p><strong>半强有效市场</strong>：是指证券价格不仅已经反映了历史价格信息，而且反映了当前所有与公司证券有关的公开有效信息，如盈利预测，红利发放，股票分拆，公司并购等各种公告信息。</p><p><strong>强有效市场</strong>：是指与证券有关的所有信息，包括公开发布的信息和为公开发布的内部信息，都已经充分，及时地反映到了证券价格之中。</p><p><strong>（一）有效市场的含义</strong></p><p>证券在任一时点的价格都是对与证券有关的所有信息做出的及时充分的反映称为有效市场假说。</p><p><strong>（二）有效市场的特征</strong></p><ul><li>将资本市场划分为弱有效市场、半强有效市场和强有效市场三种形式。</li><li>证券的价格能够充分反映证券的所有可获得信息，即“信息有效”。</li><li>证券的价格能够根据最新信息迅速做出调整。</li></ul><p><strong>（三）有效市场假说的缺陷</strong></p><ul><li>理性人假设缺陷</li><li>完全信息假设缺陷</li><li>投资者均为风险厌恶者假设缺陷</li></ul><p><strong>（四）市场异常现象</strong></p><p>日历异常：是指与一类时间因素有关的异常现象。</p><p>事件异常：是指与特定事件相关的异常现象。</p><p>公司异常：是指公司本身或投资者对公司的认同程度引起的异常现象。</p><p>会计异常：是指会计信息公布后发生的股价变动的异常现象。</p><p><strong>（五）有效市场理论对投资管理的影响</strong></p><p>如果认为市场是有效的，那么就没有必要浪费时间和精力进行积极的投资管理，而应进行消极的投资管理策略，有效市场理论也就成为指数基金产生的哲学基础。</p><h4 id="八、判断与决策中的认知偏差"><a href="#八、判断与决策中的认知偏差" class="headerlink" title="八、判断与决策中的认知偏差"></a>八、判断与决策中的认知偏差</h4><p><strong>（一）认知偏差的含义及原因</strong></p><p><strong>认知偏差</strong>：是指人们根据一定表现的现象或虚假的信息而对他人作出判断，从而出现判断失误或判断本身与判断对象的真实情况不相符合。</p><p>投资者在判断与决策中出现认知偏差的原因主要有：</p><ul><li>人性存在包括自私、趋利避害等弱点。</li><li>投资者的认知中存在诸如有限的短时记忆容量，不能全面了解信息等生理能力方面的限制。</li><li>投资者的认知中存在信息获取、加工、输出、反馈等阶段的行为、心理偏差的影响。</li></ul><p><strong>（二）金融市场中的行为偏差的原理</strong></p><ul><li>处置效应</li><li>过度交易</li><li>注意力驱动交易</li><li>羊群效应</li><li>本土偏差 1. 投资于国内的股票 2. 投资于距离近的公司  3. 投资于自己就职的公司</li><li>恶性增资</li></ul><h4 id="九、行为资产定价理论"><a href="#九、行为资产定价理论" class="headerlink" title="九、行为资产定价理论"></a>九、行为资产定价理论</h4><p>行为金融的研究表明，投资者在进行投资决策时常常会出现以下心理特点：</p><ul><li>过分自信</li><li>重视当前和熟悉事物</li><li>回避损失和“心理”会计</li><li>避免“后悔”心理</li><li>相互影响</li></ul><p>行为金融模型包括：</p><p><strong>BSV模型</strong>。BSV模型认为，人们在进行投资决策时会存在两种心理认知偏差，一是<strong>选着性偏差</strong>，即投资者过分重视近期实际的变化模式，而对产生这些数据的总体特征重视不够。二是<strong>保守型偏差</strong>，即投资者不能根据变化了的情况修正增加的预测模型。这两种偏差常导致两种错误决策：<strong>反应不足或反应过度</strong>。</p><p><strong>DHS模型</strong>。DHS模型将投资者分为<strong>有信息和无信息</strong>两类。无信息的投资者不存在判断误差，有信息者则存在着<strong>过度自信</strong>和<strong>对自己掌握的信息过分偏爱两种判断偏差</strong>。<strong>证券的价格由有信息的投资者决定</strong>。过度自信导致投资者不切实际地高估了自己对股票价值判断的准确性，而过分偏爱自己所占有的私人信息往往导致投资者对自己掌握的信息反应过度，而对公开信息反应不足。在这两种判断误差作用下，就会导致<strong>股票价格短期过度反应和长期的连续性回调</strong>。</p><p>行为金融理论认为，投资者由于受信息处理能力的限制，信息处理不完全的限制、时间不足的限制以及心理偏差的限制，将不可能立即对全部公开的信息做出反应。</p><h4 id="十、行为资产组合理论"><a href="#十、行为资产组合理论" class="headerlink" title="十、行为资产组合理论"></a>十、行为资产组合理论</h4><p>行为资产组合理论打破了现代投资组合理论中存在的局限： 理性人局限、 投资者均为风险厌恶者的局限以及风险度量的局限</p><p>行为组合理论包括<strong>单一心理账户和多个心理账户</strong>，其中单一心理账户投资者关心投资组合中各资产的相关系数，所以他们会将投资组合整个放在一个心理账户中。多个心理账户投资者将投资组合分成不同的账户，忽略各个账户之间的相关关系。</p><h2 id="第三部分-专业技能"><a href="#第三部分-专业技能" class="headerlink" title="第三部分 专业技能"></a>第三部分 专业技能</h2><h3 id="第五章-基本分析"><a href="#第五章-基本分析" class="headerlink" title="第五章 基本分析"></a>第五章 基本分析</h3><h4 id="第一节-宏观经济分析"><a href="#第一节-宏观经济分析" class="headerlink" title="第一节 宏观经济分析"></a>第一节 宏观经济分析</h4>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计量经济学案例</title>
      <link href="/2020/08/30/ji-liang-jing-ji-xue-an-li/"/>
      <url>/2020/08/30/ji-liang-jing-ji-xue-an-li/</url>
      
        <content type="html"><![CDATA[<p><img src="http://img.zhuhuaren.cn/img/wallhaven-z8x27v.jpg" alt="" style="zoom: 33%;" /></p><a id="more"></a><h2 id="多元线性回归"><a href="#多元线性回归" class="headerlink" title="多元线性回归"></a>多元线性回归</h2><blockquote><p><strong>模型假设：</strong><br>假设中国2013年各地区人均现金消费支出与工资性收入、其他收入之间的关系为:<br>Y$=\beta_0$+$\beta_1X_1$+$\beta_2X_2$+$\mu$<br>通过$python$的$statsmodels$库对数据进行回归计算：</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> model_selection</span><br><span class="line"></span><br><span class="line">data = pd.read_excel(<span class="string">r'./计量经济学数据.xlsx'</span>, sheet_name=<span class="string">'Sheet1'</span>)</span><br><span class="line">fit = sm.formula.ols(formula=<span class="string">'现金消费支出Y ~ 工资性收入X1 + 其他收入X2'</span>, data=data).fit()</span><br><span class="line">print(fit.summary())</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121191211805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sns.lmplot(x=<span class="string">'工资性收入X1'</span>, y=<span class="string">'现金消费支出Y'</span>, data=data, ci=<span class="literal">None</span>)</span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line">plt.show()</span><br><span class="line">sns.pairplot(data.loc[:, [<span class="string">'现金消费支出Y'</span>, <span class="string">'工资性收入X1'</span>, <span class="string">'其他收入X2'</span>]])</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p><p><img src="https://img-blog.csdnimg.cn/2019052613480838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br><img src="https://img-blog.csdnimg.cn/20190526135053326.png" alt="在这里插入图片描述"></p><blockquote><p><strong>模型检验：</strong><br>$H_0:\beta_j=0$<br>$H_1:\beta_j$不全部为零</p><blockquote><p><strong>拟合优度检验:</strong><br>从回归估计来看,模型拟合较好，可决系数$R^{2}=0.922.$<br><strong>F检验:</strong><br>F值为166.6，查表得$F_{\alpha}(k,n-k-1)=3.34$，其中k=2，n=31，显然有$F&gt;F_{\alpha}(k,n-k-1)$，表明模型的线性关系在5%的显著水平下显著成立.所以拒绝原假设。<br><strong>t检验:</strong><br>$\left|t_1\right|=8.448,\left|t_2\right|=5.772,t_{\alpha/2}(n-k-1)=2.048$<br>由于$\left|t\right|&gt;t_{\alpha/2}(n-k-1)$，所以拒绝零假设.<br>综上可得中国2013年各地区人均现金消费支出与工资性收入、其他收入之间的关系为：<br>$Y=2599.1455+0.4865X_1+0.6017X_2$<br>$\beta_1&lt;\beta_2$即其他收入对人均现金消费支出的贡献率要大于工资性收入。(此处有疑问，难道大家都靠外快过活吗？)</p><h2 id="因变量预测"><a href="#因变量预测" class="headerlink" title="因变量预测"></a>因变量预测</h2></blockquote><p>有时建立完模型并对其进行检验后，还需观察实际值和预测值具体情况，以确定模型的可用性。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data4 = pd.read_excel(<span class="string">r'./计量经济学数据.xlsx'</span>, sheet_name=<span class="string">'Sheet1'</span>)</span><br><span class="line">train, test = model_selection.train_test_split(data4, test_size=<span class="number">0.2</span>, random_state=<span class="number">1234</span>)</span><br><span class="line">fit4 = sm.formula.ols(formula=<span class="string">'现金消费支出Y ~ 工资性收入X1 + 其他收入X2'</span>, data=train).fit()</span><br><span class="line">test_X = test.drop(labels=<span class="string">'现金消费支出Y'</span>, axis=<span class="number">1</span>)</span><br><span class="line">pred = fit4.predict(exog=test_X)</span><br><span class="line">print(<span class="string">'对比预测值和实际值：\n'</span>, pd.DataFrame(&#123;<span class="string">'prediction'</span>: pred, <span class="string">'real'</span>: test.现金消费支出Y&#125;))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">对比预测值和实际值：</span><br><span class="line">    prediction    real</span><br><span class="line"><span class="number">7</span>   <span class="number">13874.648201</span>  <span class="number">14161.7</span></span><br><span class="line"><span class="number">10</span>  <span class="number">25068.272118</span>  <span class="number">23257.2</span></span><br><span class="line"><span class="number">4</span>   <span class="number">16645.508042</span>  <span class="number">19249.1</span></span><br><span class="line"><span class="number">1</span>   <span class="number">21539.239415</span>  <span class="number">21711.9</span></span><br><span class="line"><span class="number">29</span>  <span class="number">15077.077324</span>  <span class="number">15321.1</span></span><br><span class="line"><span class="number">8</span>   <span class="number">28477.482744</span>  <span class="number">28155.0</span></span><br><span class="line"><span class="number">3</span>   <span class="number">15073.999588</span>  <span class="number">13166.2</span></span><br></pre></td></tr></table></figure><blockquote><p>由预测值和实际值对比可以看出，有的预测值和实际值相差比较大，但总体上来说预测值与实际值比较接近，也就一定程度上说明了这个模型的可用性。</p></blockquote><h2 id="化为线性的非线性实例"><a href="#化为线性的非线性实例" class="headerlink" title="化为线性的非线性实例"></a>化为线性的非线性实例</h2><blockquote><p><strong>模型假设：</strong></p><blockquote><p>由Cobb-Dauglas生产函数$Y=AK^{\beta1}L^{\beta2}$，A代表既定的工程技术水平，$\beta_1$、$\beta_2$分别为资本与劳动投入的产出弹性，当$\beta_1+\beta_2=1时$，当大于1或小于1时，表明规模收益递增或递减。为了便于比较，下面将会对此模型进行线性变换，即假设2010年中国制造业各行业的总产出及要素投入的关系为：<br>$Y=\beta_0+\beta_1\log K+\beta_2\log L+\mu$</p></blockquote></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data2 = pd.read_excel(<span class="string">r'./计量经济学数据.xlsx'</span>, sheet_name=<span class="string">'Sheet2'</span>)</span><br><span class="line">fit2 = sm.formula.ols(formula=<span class="string">'np.log(工业总产值) ~ np.log(资本投入) + np.log(年均从业人员)'</span>, data=data2).fit()</span><br><span class="line">fit2.summary()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121191903206.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.pairplot(data2.loc[:, [<span class="string">'工业总产值'</span>, <span class="string">'资本投入'</span>, <span class="string">'年均从业人员'</span>]])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190526135113718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p><strong>模型检验：</strong></p><blockquote><p>$H_0:\beta_j=0$<br>$H_1:\beta_j$不全部为零<br><strong>拟合优度检验:</strong><br>从回归估计来看,模型拟合较好，可决系数$R^{2}=0.941.$<br><strong>F检验:</strong><br>F值为286.3，查表得$F_{\alpha}(k,n-k-1)=3.26$，其中$k=2$，$n=39$，显然有$F&gt;F_{\alpha}(k,n-k-1)$，表明模型的线性关系在5%的显著水平下显著成立.所以拒绝原假设。<br><strong>t检验:</strong><br>$\left|t_1\right|=8.344,\left|t_2\right|=3.395,t_{\alpha/2}(n-k-1)=2.036$<br>由于$\left|t\right|&gt;t_{\alpha/2}(n-k-1)$，所以拒绝零假设.<br>综上可得2010年中国制造业各行业的总产出及要素投入的关系为：$Y=1.8003+0.6778\log K+0.2911\log L，0.6778+0.2911=0.9689$，以上结果表明，在2010年，中国工业总产出关于资本投入的产出弹性为0.6778，表明当其他因素不变时，工业的资本每增加1%，总产出将增加0.6778%，同样地，当其他因素不变时，劳动力投入每增长1%，总产出将增加0.2911%，可见，资本投入的增加对工业总产出的增长起到了更大的作用。</p><h2 id="虚拟变量问题"><a href="#虚拟变量问题" class="headerlink" title="虚拟变量问题"></a>虚拟变量问题</h2><p>在一些数据中，通常会有一些变量无法通过量化来进行处理，但是这些变量往往对模型结果产生较大的影响，所以，这类因素是无法被丢弃的，因此引入了“虚拟变量”，又叫做哑变量，来进行“量化处理”。下面我们将会以==城镇居民为基准线==对2013年中国农村与城镇居民家庭人均工资收入、其他收入和生活消费支出进行模型建立。<br>假设模型为：<br>$Y=\alpha_0+\alpha_1X_1+\alpha_2X_2+C$</p></blockquote></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data3 = pd.read_excel(<span class="string">r'./计量经济学数据.xlsx'</span>, sheet_name=<span class="string">'Sheet3'</span>)</span><br><span class="line">fit3 = sm.formula.ols(formula=<span class="string">'生活消费 ~ 工资收入 + 其他收入 + C(农村or城镇)'</span>, data=data3).fit()</span><br><span class="line">fit3.summary()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121191932587.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p><strong>模型检验：</strong></p><blockquote><p>$H_0:\beta_j=0$<br>$H_1:\beta_j$不全部为零<br><strong>拟合优度检验:</strong><br>从回归估计来看,模型拟合较好，可决系数$R^{2}=0.975.$<br><strong>F检验:</strong><br>F值为758.1，查表得$F_{\alpha}(k,n-k-1)=4.16$，其中k=3，n=62，显然有$F&gt;F_{\alpha}(k,n-k-1)$，表明模型的线性关系在5%的显著水平下显著成立.所以拒绝零假设。<br><strong>t检验:</strong><br>$\left|t_1\right|=0.291,\left|t_2\right|=13.978,,\left|t_3\right|=7.666，t_{\alpha/2}(n-k-1)=2.010$<br>$由于\left|t\right|&gt;t_{\alpha/2}(n-k-1)$，所以拒绝零假设.<br>综上可得2013年中国农村与城镇居民家庭人均工资收入、其他收入和生活消费支出的关系为：<br>$Y=1783.7377+0.5477X_1+0.5589X_2+140.8608$城镇居民，<br>以上结果表明，当其他因素不变时，中国城镇居民平均消费支出比农村居民平均消费水平多140.8608元。</p></blockquote></blockquote><h2 id="受约束回归"><a href="#受约束回归" class="headerlink" title="受约束回归"></a>受约束回归</h2><blockquote><p>在建立回归模型时，有时根据经济理论需要对自变量之间的关系进行约束，比如两个回归系数$\beta_1$和$\beta_2$之间的约束条件使得$\beta_1+\beta_2=1$或者使得$\beta_1=\beta_2$，此时称为此回归模型为受约束回归。</p><p>首先建立无约束回归模型<br>即：$ln(Q)=\beta_0+\beta_1ln(X/P_0)+\beta_2(P_1/P)+\beta_3(P_2/P)+\beta_4P_{01}+\beta_5P_{02}+\beta_6P_{03}$<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line">data4 = pd.read_excel(<span class="string">r'./计量经济学数据.xlsx'</span>, sheet_name=<span class="string">'Sheet4'</span>)</span><br><span class="line">Q = data4[<span class="string">"蛋类消费量Q（千克）"</span>]</span><br><span class="line">X = data4[<span class="string">"人均消费支出X（元）"</span>]</span><br><span class="line">P0 = data4[<span class="string">"居民消费价格指数P0"</span>]</span><br><span class="line">P = data4[<span class="string">"蛋类P（价格指数）"</span>]</span><br><span class="line">P1 = data4[<span class="string">"肉禽类P1（价格指数）"</span>]</span><br><span class="line">P2 = data4[<span class="string">"水产类P2（价格指数）"</span>]</span><br><span class="line">P01 = data4[<span class="string">"粮食P3（价格指数）"</span>]</span><br><span class="line">P02 = data4[<span class="string">"油脂P4（价格指数）"</span>]</span><br><span class="line">P03 = data4[<span class="string">"蔬菜P5（价格指数）"</span>]</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">"log(X/P0)"</span>:np.log(X/P0),</span><br><span class="line">                  <span class="string">"P1/P"</span>:P1/P,</span><br><span class="line">                 <span class="string">"P2/P"</span>:P2/P,</span><br><span class="line">                  <span class="string">"P01"</span>:P01,</span><br><span class="line">                  <span class="string">"P02"</span>:P02,</span><br><span class="line">                  <span class="string">"P03"</span>:P03&#125;,)</span><br><span class="line">df = sm.add_constant(df)</span><br><span class="line">fit = sm.OLS(np.log(Q),df).fit()</span><br><span class="line">fit.summary()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/2021012119394834.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p><strong>模型检验：</strong><br>$H_0:\beta_j=0$<br>$H_1:\beta_j$不全部为零<br><strong>拟合优度检验:</strong><br>从回归估计来看，调整的可决系数$R^{2}=0.409$，但是此回归结果并不作为预测模型来进行预测，所以可以不必过分关注可决系数.<br><strong>F检验:</strong><br>F值为 4.641，$P=0.00290$，表明模型的线性关系在5%的显著水平下显著成立，所以拒绝零假设。<br><strong>t检验:</strong><br>以上结果除变量<code>log(X/P0)</code> 和<code>P2/P</code>在5%的显著水平下拒绝原假设，其他变量均无法通过t检验，在其他条件不变的情况下，农村人均消费支出会明显增加蛋类消费量，同时，当水产类价格上升速度大于蛋类产品时，会刺激农村消费者倾向于消费更多的蛋类产品，即在农村消费者的消费倾向中，水产品类与蛋类产品有一定的替代作用。</p></blockquote><p>建立受约束回归模型<br>约束条件为$H_0:\beta_2=\beta_4=\beta_5=\beta_6=0$，即回归模型为$ln(Q)=\beta_0+\beta_1ln(X/P_0)+\beta_3(P2/P)$</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20210121194708476.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p>从以上结果可以看出，在约束条件下，线性关系检验（F检验）和回归系数检验（t检验）在5%的显著水平下更加显著，拒绝原假设的理由更加充分，即更加印证了无约束回归所说明的结论。</p></blockquote><h2 id="多重共线性"><a href="#多重共线性" class="headerlink" title="多重共线性"></a>多重共线性</h2><blockquote><p>检测方法以及解决办法详见下面链接。<br>链接: <a href="https://blog.csdn.net/weixin_43425784/article/details/106041556" target="_blank" rel="noopener">多重共线性</a>.</p></blockquote><h2 id="异方差性"><a href="#异方差性" class="headerlink" title="异方差性"></a>异方差性</h2><blockquote><p><strong>异方差性</strong>：对于模型$Y_t=\beta_0+\beta_1X_{i1}+\beta_2X_{i2}+…+\beta_nX_{in}+\mu_i，i=1,2…,n$，其中残差$\mu_i$的方差随着$X_i$的变化而变化，而不是一个常数，这就说明模型存在异方差性，当然这只是模型假设的一个理想条件。<br><strong>异方差性的后果</strong>：（1）参数估计量非有效（2）变量的显著性检验失去意义（3）模型预测失效<br><strong>检验方法</strong>：（1）图示法（2）布罗施-帕甘检验（3）怀特检验</p><p>下面我们通过参考书上的案例来进行具体分析。<br>模型假设为$ln(Y)=\beta_0+\beta_1ln(X_1)+\beta_2ln(X_2)+\mu$</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data7 = pd.read_excel(<span class="string">r'./计量经济学数据.xlsx'</span>, sheet_name=<span class="string">'Sheet7'</span>)</span><br><span class="line">X = np.log(data7.loc[:,[ <span class="string">'从事农业经营的纯收入X1'</span>, <span class="string">'其他来源纯收入X2'</span>]])</span><br><span class="line">Y = np.log(data7[<span class="string">"人均消费支出Y"</span>])</span><br><span class="line">X = sm.add_constant(X)</span><br><span class="line">fit = sm.OLS(Y,X).fit()</span><br><span class="line">fit.summary()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121203426917.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p>从拟合结果来看，很明显常数项、变量$X_1$和$X_2$都无法通过$t$检验，从拟合参数来看，变量$X_2$对因变量的解释性更大，所以如果存在异方差性，则更有可能变量$X_2$引起的，下面我们来进行异方差性检验。</p></blockquote><ol><li><strong>图示法</strong><blockquote><p>计算残差并绘制异方差性检验图，即$e^2$与$X_2$的散点图。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">8</span>))</span><br><span class="line">plt.scatter(X[<span class="string">"其他来源纯收入X2"</span>],np.power(fit.predict(X)-Y,<span class="number">2</span>))</span><br><span class="line">fit.predict(X)</span><br><span class="line">plt.title(<span class="string">"异方差性检验图"</span>,fontsize=<span class="number">16</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121211730436.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>从图中可以看出，拟合模型中可能存在异方差性，而且存在着递增型异方差性，但是从图形并不能很直接的说明问题，存在一定的主观因素在里面，所以下面另外两种方法更为直接地检验一下。</p><ol><li><strong>布罗施-帕甘检验</strong><br>将原模型普通最小二乘法估计的残差项的平方后关于变量$X_2$做回归。<br>模型假设为$e_2=\beta_0+\beta_2X_2$</li></ol></blockquote></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">e2=np.power(fit.predict(X)-Y,<span class="number">2</span>)</span><br><span class="line">X2 = sm.add_constant(X[<span class="string">"其他来源纯收入X2"</span>])</span><br><span class="line">fit2 = sm.OLS(e2,X2).fit()</span><br><span class="line">fit2.summary()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121214400809.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p>从上图可以得出残差平方与变量$X_2$的拟合方程$e^2=-141+0.0236X_2$，同时在5%的显著水平都通过了$t$检验，同时在5%显著水平下也通过了$F$检验。综上即可说明在5%的显著水平下拒绝原模型随机干扰项方差相同的原假设，即原模型存在异方差性。</p><ol><li><strong>怀特检验</strong><br>记$e_i^2$为对原模型进行普通最小二乘回归得到的残差平方，将其与$ln(X_1)、ln(X_2)$及其平方项与交叉项作辅助回归。<br>模型假设为$e_2=\beta_0+\beta_1ln(X_1)+\beta_2ln(X_2)+\beta_3(ln(X_1))^2+\beta_4(ln(X_1))^2+\beta_5ln(X_1)ln(X_2)$</li></ol></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">X[<span class="string">"从事农业经营的纯收入(X1)^2"</span>]=np.power(X[<span class="string">"从事农业经营的纯收入X1"</span>],<span class="number">2</span>)</span><br><span class="line">X[<span class="string">"其他来源纯收入(X2)^2"</span>]=np.power(X[<span class="string">"其他来源纯收入X2"</span>],<span class="number">2</span>)</span><br><span class="line">X[<span class="string">"X1*X2"</span>]=X[<span class="string">"从事农业经营的纯收入X1"</span>]*X[<span class="string">"其他来源纯收入X2"</span>]</span><br><span class="line">X3=X</span><br><span class="line">fit3 = sm.OLS(e2,X3).fit()</span><br><span class="line">fit3.summary()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210121223847490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p>从上图可以清楚的看到，在5%的显著水平下，拟合方程在线性关系检验上是显著的，也就是拒绝了原拟合方程同方差的原假设，即原拟合方程存在异方差性。</p></blockquote><h2 id="内生解释变量问题（待更）"><a href="#内生解释变量问题（待更）" class="headerlink" title="内生解释变量问题（待更）"></a>内生解释变量问题（待更）</h2>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 计量经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬取人民币汇率—数据来源（中国银行网站）</title>
      <link href="/2020/08/30/zhong-guo-yin-xing-ren-min-bi-hui-lu-pa-qu/"/>
      <url>/2020/08/30/zhong-guo-yin-xing-ren-min-bi-hui-lu-pa-qu/</url>
      
        <content type="html"><![CDATA[<h4 id="文章导语"><a href="#文章导语" class="headerlink" title="文章导语"></a>文章导语</h4><blockquote><p>今年暑假系里给每个同学布置了一篇学年论文，就想着怎么也得弄点数据撑撑排面吧，一开始我是不想爬的，然后就在网上各种找接口，找了半天，不是不能用就是获取的数据只是实时的，无法获得历史数据，哎，既然没办法，就只能爬了，顺便就在一个群里问了一下端口的事，然后开始准备工作，等网页分析完了，开始敲代码的时候，又看了一下手机，有个道友说<code>tushare</code>里面有接口，虽然<code>tushare</code>用了也挺多次吧，但是没发现有汇率的接口啊，我又抱着希望去看了看，果不其然，还真有。但是回头一想，网页都分析完了，干脆写完得了。二话不说，写吧！</p></blockquote><a id="more"></a><h4 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:UTF-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> xlrd</span><br><span class="line"><span class="keyword">from</span> xlutils.copy <span class="keyword">import</span> copy</span><br><span class="line">proxy = &#123;</span><br><span class="line">    <span class="string">'HTTP'</span>: <span class="string">'HTTP://180.125.70.78:9999'</span>,</span><br><span class="line">    <span class="string">'HTTP'</span>: <span class="string">'HTTP://117.90.4.230:9999'</span>,</span><br><span class="line">    <span class="string">'HTTP'</span>: <span class="string">'HTTP://111.77.196.229:9999'</span>,</span><br><span class="line">    <span class="string">'HTTP'</span>: <span class="string">'HTTP://111.177.183.57:9999'</span>,</span><br><span class="line">    <span class="string">'HTTP'</span>: <span class="string">'HTTP://123.55.98.146:9999'</span>,</span><br><span class="line">        &#125;</span><br><span class="line">row = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">50</span>):  <span class="comment">#  抓取页码范围</span></span><br><span class="line">    form_data = &#123;</span><br><span class="line">        <span class="string">'erectDate'</span>: <span class="string">'2009-07-01'</span>,</span><br><span class="line">        <span class="string">'nothing'</span>: <span class="string">'2019-07-08'</span>,</span><br><span class="line">        <span class="string">'pjname'</span>: <span class="string">'1316'</span>,  <span class="comment"># 美元兑人民币代码，修改此代码可获得其他货币兑人民币汇率</span></span><br><span class="line">        <span class="string">'page'</span>: n,</span><br><span class="line">    &#125;</span><br><span class="line">    url = <span class="string">'http://srh.bankofchina.com/search/whpj/search.jsp'</span></span><br><span class="line">    res = requests.post(url=url, data=form_data,proxies=proxy)</span><br><span class="line">    html = etree.HTML(res.text)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">22</span>):</span><br><span class="line">        m_n = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[1]/text()'</span>.format(j))</span><br><span class="line">        s_e_p = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[2]/text()'</span>.format(j))</span><br><span class="line">        c_p = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[3]/text()'</span>.format(j))</span><br><span class="line">        s_e_sp = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[4]/text()'</span>.format(j))</span><br><span class="line">        c_s = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[5]/text()'</span>.format(j))</span><br><span class="line">        bank_count_p = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[6]/text()'</span>.format(j))</span><br><span class="line">        date = html.xpath(<span class="string">'//tr[&#123;&#125;]/td[7]/text()'</span>.format(j))</span><br><span class="line">        row = row + <span class="number">1</span></span><br><span class="line">        workbook = xlrd.open_workbook(<span class="string">'money.xls'</span>)  <span class="comment"># 创建工作表</span></span><br><span class="line">        workbook_copy = copy(workbook)  <span class="comment"># 向工作表内追加内容</span></span><br><span class="line">        worksheet = workbook_copy.get_sheet(<span class="number">0</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'货币名称'</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">1</span>, <span class="string">'现汇买入价'</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">2</span>, <span class="string">'现钞买入价'</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">3</span>, <span class="string">'现汇卖出价'</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">4</span>, <span class="string">'现钞卖出价'</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">5</span>, <span class="string">'中行折算价'</span>)</span><br><span class="line">        worksheet.write(<span class="number">0</span>, <span class="number">6</span>, <span class="string">'发布时间'</span>)</span><br><span class="line">        worksheet.write(row, <span class="number">0</span>, <span class="string">''</span>.join(m_n))  <span class="comment"># 将列表格式转换为字符串</span></span><br><span class="line">        worksheet.write(row, <span class="number">1</span>, <span class="string">''</span>.join(s_e_p))</span><br><span class="line">        worksheet.write(row, <span class="number">2</span>, <span class="string">''</span>.join(c_p))</span><br><span class="line">        worksheet.write(row, <span class="number">3</span>, <span class="string">''</span>.join(s_e_sp))</span><br><span class="line">        worksheet.write(row, <span class="number">4</span>, <span class="string">''</span>.join(c_s))</span><br><span class="line">        worksheet.write(row, <span class="number">5</span>, <span class="string">''</span>.join(bank_count_p))</span><br><span class="line">        worksheet.write(row, <span class="number">6</span>, <span class="string">''</span>.join(date))</span><br><span class="line">        workbook_copy.save(<span class="string">'money.xls'</span>)</span><br><span class="line">    print(<span class="string">'第&#123;&#125;页爬取完成...'</span>.format(n))</span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><blockquote><p>获取数据的界面<br><img src="https://img-blog.csdnimg.cn/20190709123228488.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图1"></p><p>获取的数据，我就先爬了1000多条，等用的时候再爬吧。<br><img src="https://img-blog.csdnimg.cn/20190709123629780.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图2"></p><h4 id="文章结语"><a href="#文章结语" class="headerlink" title="文章结语"></a>文章结语</h4><p>最后我再说说我踩的坑吧，第一个就是在网页开发工具上复制的<code>xpath</code>路径竟然不能直接用，比如说这个把，复制<code>xpath</code>路径的时候，它会自动优化，把一些网页源码没有的节点自动补齐，当你用这个路径提取内容的时候肯定提取不出来。还有一个就是追加写入Excel，这个就不多说了吧。<br><strong>总结下来一句话：</strong><br><code>只有当你踩的坑多了，你才有机会踩下一个坑，否则你连下一个坑都见不到。</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线性回归与岭回归以及LASSO回归结果比较</title>
      <link href="/2020/08/30/xian-xing-hui-gui-yu-ling-hui-gui-yi-ji-lasso-hui-gui-jie-guo-bi-jiao/"/>
      <url>/2020/08/30/xian-xing-hui-gui-yu-ling-hui-gui-yi-ji-lasso-hui-gui-jie-guo-bi-jiao/</url>
      
        <content type="html"><![CDATA[<blockquote><p>为了能够比较直观地了解到三种回归方法的区别，本文基于李子奈、潘文卿的《计量经济学》（第四版）第四章的同一案列进行三种方法的结果比较，具体推导过程可参见文后提供的参考链接。</p><p>首先导入需要用到的库<br><a id="more"></a></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge,RidgeCV</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Lasso,LassoCV</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> statsmodels.stats.outliers_influence <span class="keyword">import</span> variance_inflation_factor</span><br></pre></td></tr></table></figure><blockquote><p>导入需要使用的数据，此数据可在文后提供的链接进行免费下载，其中包含了《计量经济学》（第四版）中所有的数据。</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020051020531285.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图1"><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_excel(<span class="string">"./计量经济学数据.xlsx"</span>,sheet_name=<span class="string">"Sheet6"</span>)</span><br><span class="line">data.head()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20200510205332352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图2"><br><strong>数据预处理，对数据进行去对数处理</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据全部取对数</span></span><br><span class="line">log_data = np.log10(data.iloc[:,<span class="number">1</span>:])</span><br><span class="line">log_data.head()</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200510205607585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图3"></p><h4 id="多重共线性检验"><a href="#多重共线性检验" class="headerlink" title="多重共线性检验"></a>多重共线性检验</h4><p><strong>计算变量间的相关性</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算相关系数</span></span><br><span class="line">corr = log_data.corr()</span><br><span class="line">corr</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20200510205748675.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图4"></p><p><strong>绘制变量相关性热力图</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">8</span>),dpi=<span class="number">80</span>)</span><br><span class="line"><span class="comment"># ["cyan","orange","green","blue","pink","black","red"]</span></span><br><span class="line">sns.heatmap(corr,cmap=<span class="string">"rainbow"</span>)</span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'Microsoft YaHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line">plt.title(<span class="string">"变量相关性热力图"</span>)</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20200510210027777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图5"></p><blockquote><p>通过以上图表可知，数据集中的变量间存在较高的相关性，下面再计算变量的方差膨胀因子。</p></blockquote><p><strong>计算方差膨胀因子</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = log_data.iloc[:,<span class="number">1</span>:]</span><br><span class="line">y = log_data.iloc[:,<span class="number">0</span>]</span><br><span class="line">col = list(range(len(x.columns)))</span><br><span class="line"><span class="comment"># 所有自变量的值与每个自变量逐个计算方差膨胀因子</span></span><br><span class="line">vif =  [variance_inflation_factor(x.iloc[:,col].values, ix) <span class="keyword">for</span> ix <span class="keyword">in</span> range(len(x.columns))]</span><br><span class="line">vif</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>自变量</th><th>粮食播种面积X1(千公顷)</th><th>有效灌溉面积X2（千公顷）</th><th>化肥施用量X3（万吨）</th><th>大型拖拉机X4（千台）</th><th>小型拖拉机X5（千台）</th><th>农用排灌柴油机X6（千台）</th></tr></thead><tbody><tr><td>VIF</td><td>403.2631690074185</td><td>329.9992056671909</td><td>209.70314247829862</td><td>19.46849097146</td><td>34.78630688411796</td><td>50.32592446623867</td></tr></tbody></table></div><h4 id="线性回归（linear-regression）"><a href="#线性回归（linear-regression）" class="headerlink" title="线性回归（linear regression）"></a>线性回归（linear regression）</h4><blockquote><p>进行线性回归拟合</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linear = sm.OLS(y,x).fit()</span><br><span class="line">linear.summary()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">                                    OLS Regression Results                            </span><br><span class="line">======================================================================================</span><br><span class="line">Dep. Variable:           粮食产业Y(万吨)  R-squared:                       <span class="number">0.985</span></span><br><span class="line">Model:                            OLS   Adj. R-squared:                  <span class="number">0.981</span></span><br><span class="line">Method:                 Least Squares   F-statistic:                     <span class="number">262.3</span></span><br><span class="line">Date:                Sun, <span class="number">10</span> May <span class="number">2020</span>   Prob (F-statistic):           <span class="number">1.17e-20</span></span><br><span class="line">Time:                        <span class="number">21</span>:<span class="number">13</span>:<span class="number">27</span>   Log-Likelihood:                 <span class="number">40.002</span></span><br><span class="line">No. Observations:                  <span class="number">31</span>   AIC:                            <span class="number">-66.00</span></span><br><span class="line">Df Residuals:                      <span class="number">24</span>   BIC:                            <span class="number">-55.97</span></span><br><span class="line">Df Model:                           <span class="number">6</span>                                         </span><br><span class="line">Covariance Type:            nonrobust                                         </span><br><span class="line">=======================================================================================</span><br><span class="line">                         coef      std err      t         P&gt;|t|      [<span class="number">0.025</span>      <span class="number">0.975</span>]</span><br><span class="line">---------------------------------------------------------------------------------------</span><br><span class="line">const                   <span class="number">-0.3332</span>     <span class="number">0.160</span>     <span class="number">-2.088</span>      <span class="number">0.048</span>      <span class="number">-0.662</span>      <span class="number">-0.004</span></span><br><span class="line">粮食播种面积X1(千公顷)     <span class="number">0.7569</span>      <span class="number">0.092</span>      <span class="number">8.196</span>      <span class="number">0.000</span>       <span class="number">0.566</span>       <span class="number">0.947</span></span><br><span class="line">有效灌溉面积X2（千公顷）    <span class="number">0.2463</span>      <span class="number">0.097</span>      <span class="number">2.529</span>      <span class="number">0.018</span>       <span class="number">0.045</span>       <span class="number">0.447</span></span><br><span class="line">化肥施用量X3（万吨）       <span class="number">0.0002</span>      <span class="number">0.108</span>      <span class="number">0.002</span>      <span class="number">0.999</span>      <span class="number">-0.223</span>       <span class="number">0.224</span></span><br><span class="line">大型拖拉机X4（千台）       <span class="number">0.0298</span>      <span class="number">0.032</span>      <span class="number">0.918</span>      <span class="number">0.368</span>      <span class="number">-0.037</span>       <span class="number">0.097</span></span><br><span class="line">小型拖拉机X5（千台）       <span class="number">-0.0325</span>     <span class="number">0.034</span>     <span class="number">-0.958</span>      <span class="number">0.348</span>      <span class="number">-0.102</span>       <span class="number">0.037</span></span><br><span class="line">农用排灌柴油机X6（千台）    <span class="number">0.0508</span>      <span class="number">0.042</span>      <span class="number">1.222</span>      <span class="number">0.234</span>      <span class="number">-0.035</span>       <span class="number">0.137</span></span><br><span class="line">========================================================================================</span><br><span class="line">Omnibus:                        <span class="number">7.477</span>   Durbin-Watson:                  <span class="number">1.275</span></span><br><span class="line">Prob(Omnibus):                  <span class="number">0.024</span>   Jarque-Bera (JB):               <span class="number">6.105</span></span><br><span class="line">Skew:                           <span class="number">0.784</span>   Prob(JB):                       <span class="number">0.0472</span></span><br><span class="line">Kurtosis:                       <span class="number">4.507</span>   Cond. No.                       <span class="number">89.8</span></span><br><span class="line">========================================================================================</span><br><span class="line"></span><br><span class="line">Warnings:</span><br><span class="line">[<span class="number">1</span>] Standard Errors assume that the covariance matrix of the errors <span class="keyword">is</span> correctly specified.</span><br></pre></td></tr></table></figure><p><strong>计算均方根误差</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line">linear_predict = linear.predict(x)</span><br><span class="line">RMSE = np.sqrt(mean_squared_error(y,linear_predict))</span><br><span class="line">RMSE</span><br></pre></td></tr></table></figure></p><blockquote><p>由以上计算结果可知，调整后的$R^2$为0.981，同时有三个变量的方差膨胀因子都大于50，即存在多重共线性。</p><h4 id="岭回归（ridge-regression）"><a href="#岭回归（ridge-regression）" class="headerlink" title="岭回归（ridge regression）"></a>岭回归（ridge regression）</h4><p><strong>自变量数据重构</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 去除上一个模型加入的常量</span></span><br><span class="line">x = x.iloc[:,<span class="number">1</span>:]</span><br><span class="line"><span class="comment"># 选择训练集和测试集</span></span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=<span class="number">0.3</span>,random_state=<span class="number">42</span>)</span><br><span class="line">alphas = np.linspace(<span class="number">-1</span>,<span class="number">5</span>,<span class="number">80</span>)</span><br></pre></td></tr></table></figure><br><strong>绘制回归系数收敛曲线</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ridge_coefs = []</span><br><span class="line"><span class="keyword">for</span> alpha <span class="keyword">in</span> alphas:</span><br><span class="line">    linear_R = Ridge(alpha=alpha, normalize=<span class="literal">True</span>)</span><br><span class="line">    linear_R.fit(x_train,y_train)</span><br><span class="line">    ridge_coefs.append(linear_R.coef_)</span><br><span class="line"><span class="comment"># 先设置画布大小，再画图</span></span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">8</span>),dpi=<span class="number">80</span>)   </span><br><span class="line">plt.plot(alphas,ridge_coefs)</span><br><span class="line">plt.title(<span class="string">"回归系数收敛曲线"</span>)</span><br><span class="line">plt.xlabel(<span class="string">"lamdas"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"coefficient"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20200510213300689.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图6"><br><strong>进行10重交叉验证，确定最优lamda值</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 岭回归模型的交叉验证</span></span><br><span class="line"><span class="comment"># 设置交叉验证的参数，对于每一个lamda值，都执行10重交叉验证</span></span><br><span class="line">ridge_cv = RidgeCV(alphas = alphas, normalize=<span class="literal">True</span>, scoring=<span class="string">'neg_mean_squared_error'</span>, cv = <span class="number">10</span>)</span><br><span class="line">ridge_cv.fit(x_test,y_test)</span><br><span class="line">best_alpha = ridge_cv.alpha_</span><br><span class="line"><span class="comment"># 使用最优的lamda值进行拟合</span></span><br><span class="line">linear_R = Ridge(alpha=best_alpha,normalize=<span class="literal">True</span>)</span><br><span class="line">linear_R.fit(x_train,y_train)</span><br><span class="line">ridge_predict = linear_R.predict(x_test)</span><br><span class="line">linear_R.score(x_test,y_test)</span><br></pre></td></tr></table></figure><p><strong>计算均方根误差</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 预测效果验证</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line">RMSE = np.sqrt(mean_squared_error(y_test,ridge_predict))</span><br><span class="line">RMSE</span><br></pre></td></tr></table></figure></p><div class="table-container"><table><thead><tr><th style="text-align:center">自变量</th><th style="text-align:center">常数项</th><th style="text-align:center">粮食播种面积X1(千公顷)</th><th style="text-align:center">有效灌溉面积X2（千公顷）</th><th style="text-align:center">化肥施用量X3（万吨）</th><th style="text-align:center">大型拖拉机X4（千台）</th><th style="text-align:center">小型拖拉机X5（千台）</th><th style="text-align:center">农用排灌柴油机X6（千台）</th></tr></thead><tbody><tr><td style="text-align:center">拟合参数</td><td style="text-align:center">-0.0917</td><td style="text-align:center">0.6089</td><td style="text-align:center">0.2061</td><td style="text-align:center">0.1076</td><td style="text-align:center">0.0596</td><td style="text-align:center">-0.0061</td><td style="text-align:center">0.0682</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>$R^2$</th><th>RMSE</th><th>lamda</th></tr></thead><tbody><tr><td>0.9903</td><td>0.0561</td><td>0.0633</td></tr></tbody></table></div><h4 id="LASSO回归"><a href="#LASSO回归" class="headerlink" title="LASSO回归"></a>LASSO回归</h4><p><strong>绘制回归系数收敛曲线</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">alphas = np.linspace(<span class="number">-1</span>,<span class="number">1</span>,<span class="number">80</span>)</span><br><span class="line">lasso_coefs = []</span><br><span class="line"><span class="keyword">for</span> alpha <span class="keyword">in</span> alphas:</span><br><span class="line">    linear_L = Lasso(alpha=alpha, normalize=<span class="literal">True</span>)</span><br><span class="line">    linear_L.fit(x_train,y_train)</span><br><span class="line">    lasso_coefs.append(linear_L.coef_)</span><br><span class="line"><span class="comment"># 先设置画布大小，再画图</span></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">5</span>),dpi=<span class="number">100</span>)   </span><br><span class="line">plt.plot(alphas,lasso_coefs)</span><br><span class="line">plt.title(<span class="string">"回归系数收敛曲线"</span>)</span><br><span class="line">plt.xlabel(<span class="string">"lamdas"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"coefficient"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/2020051021571924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图7"><br><strong>进行10重交叉验证，确定最优lamda值</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">lasso_cv = LassoCV(alphas = alphas, normalize=<span class="literal">True</span>, cv = <span class="number">10</span>, max_iter=<span class="number">10000</span>)</span><br><span class="line">lasso_cv.fit(x_train,y_train)</span><br><span class="line">best_alpha = lasso_cv.alpha_</span><br><span class="line"><span class="comment"># 使用最优lamda值进行拟合</span></span><br><span class="line">linear_L = Lasso(alpha=best_alpha,normalize=<span class="literal">True</span>,max_iter=<span class="number">10000</span>)</span><br><span class="line">linear_L.fit(x_train, y_train)</span><br><span class="line">score = linear_L.score(x_test,y_test)</span><br><span class="line">score</span><br></pre></td></tr></table></figure><br><strong>计算均方根误差</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RMSE = np.sqrt(mean_squared_error(y_test,lasso_predict))</span><br><span class="line">RMSE</span><br></pre></td></tr></table></figure></p><div class="table-container"><table><thead><tr><th style="text-align:center">自变量</th><th style="text-align:center">常数项</th><th style="text-align:center">粮食播种面积X1(千公顷)</th><th style="text-align:center">有效灌溉面积X2（千公顷）</th><th style="text-align:center">化肥施用量X3（万吨）</th><th style="text-align:center">大型拖拉机X4（千台）</th><th style="text-align:center">小型拖拉机X5（千台）</th><th style="text-align:center">农用排灌柴油机X6（千台）</th></tr></thead><tbody><tr><td style="text-align:center">拟合参数</td><td style="text-align:center">-0.0516</td><td style="text-align:center">0.8793</td><td style="text-align:center">0.0569</td><td style="text-align:center">0.0000</td><td style="text-align:center">0.0000</td><td style="text-align:center">0.0000</td><td style="text-align:center">0.0000</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>$R^2$</th><th>RMSE</th><th>lamda</th></tr></thead><tbody><tr><td>0.9756</td><td>0.0892</td><td>0.0127</td></tr></tbody></table></div><h4 id="综合比较"><a href="#综合比较" class="headerlink" title="综合比较"></a>综合比较</h4><div class="table-container"><table><thead><tr><th>自变量</th><th>常数项</th><th>粮食播种面积X1(千公顷)</th><th>有效灌溉面积X2（千公顷）</th><th>化肥施用量X3（万吨）</th><th>大型拖拉机X4（千台）</th><th>小型拖拉机X5（千台）</th><th>农用排灌柴油机X6（千台）</th></tr></thead><tbody><tr><td>线性回归</td><td>-0.3332</td><td>0.7569</td><td>0.2463</td><td>0.0002</td><td>0.0298</td><td>-0.0325</td><td>0.0508</td></tr><tr><td>岭回归</td><td>-0.0917</td><td>0.6089</td><td>0.2061</td><td>0.1076</td><td>0.0596</td><td>-0.0061</td><td>0.0682</td></tr><tr><td>LASSO回归</td><td>-0.0516</td><td>0.8793</td><td>0.0569</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td>0.0000</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>比较项</th><th>$R^2$</th><th>RMSE</th><th>lamda</th></tr></thead><tbody><tr><td>线性回归</td><td>0.9850</td><td>0.0666</td><td>——</td></tr><tr><td>岭回归</td><td>0.9903</td><td>0.0561</td><td>0.0633</td></tr><tr><td>LASSO回归</td><td>0.9756</td><td>0.0892</td><td>0.0127</td></tr></tbody></table></div><blockquote><p>从本案例的三个拟合结果来看，首先，就拟合参数的截距项而言，从线性回归到岭回归再到LASSO回归，参数值在不断减小，其中LASSO的截距项最小，尽可能的把被解释变量都都交由自变量来解释。其次，再看自变量的，线性回归和岭回归的$X5$的参数都小于零，虽然保留了全部自变量的信息，但是在此案例中不符合实际经济意义，而LASSO回归则对自变量的数量进行了压缩，只保留了两个自变量。<br>从本案例的三个拟合效果来看，虽然线性回归的$R^2$最高，但是由于此案例的数据集存在多重共线性，因此极有可能存在过拟合的情况。虽然LASSO回归的$R^2$最低，同时均方根误差$(RMSE)$也相对较高，但是相对来说拟合效果还是比较好的，虽然只保留了两个解释变量，损失了一部分解释变量的信息，但是它是比较符合经济意义的。<br>所以就此案例拟合的三个模型来看，LASSO还是比较可取的。</p></blockquote><p><strong>数据集：</strong><br>【1】<a href="https://download.csdn.net/download/weixin_43425784/12407055" target="_blank" rel="noopener">计量经济学数据</a></p><p><strong>参考资料：</strong><br>【1】<a href="https://zhuanlan.zhihu.com/p/43290994" target="_blank" rel="noopener">机器学习中的正则化</a><br>【2】<a href="https://blog.csdn.net/weixin_43374551/article/details/83688913?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase" target="_blank" rel="noopener">机器学习十大经典算法之岭回归和LASSO回归（学习笔记整理）</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>熵值法</title>
      <link href="/2020/08/30/shang-zhi-fa/"/>
      <url>/2020/08/30/shang-zhi-fa/</url>
      
        <content type="html"><![CDATA[<h4 id="一、基本原理"><a href="#一、基本原理" class="headerlink" title="一、基本原理"></a>一、基本原理</h4><p>在信息论中，熵是对不确定性的一种度量。不确定性越大，熵就越大，包含的信息量越大；不确定性越小，熵就越小，包含的信息量就越小。</p><p>根据熵的特性，可以通过计算熵值来判断一个事件的随机性及无序程度，也可以用熵值来判断某个指标的离散程度，指标的离散程度越大，该指标对综合评价的影响(权重）越大。比如样本数据在某指标下取值都相等，则该指标对总体评价的影响为0，权值为0.</p><p>熵权法是一种客观赋权法，因为它仅依赖于数据本身的离散性。</p><a id="more"></a><h4 id="二、计算步骤"><a href="#二、计算步骤" class="headerlink" title="二、计算步骤"></a>二、计算步骤</h4><ol><li><p>选取数据<br> 选取$m$个指标，共$n$个样本，则$X_{ij}$为第$i$个样本的第$j$个指标的数值，$i=1,2,3,…n;j=1,2,3…m.$</p></li><li><p>数据标准化处理<br> 各项指标的计量单位以及方向不统一的情况下，需要对对数据进行标准化，为了避免求熵值时对数无意义，可以为每个$0$值加上较小数量级的实数，如$0.01$.<br> （1）对于正向指标(越大越好的指标)</p><script type="math/tex; mode=display"> X^{'}=\frac{X_{ij}- Min(X_{ij})}{Max(X_{ij})-Min(X_{ij})}</script><p> （2）对于负向指标(越小越好的指标)</p><script type="math/tex; mode=display"> X^{'}=\frac{Max(X_{ij})-X_{ij}}{Max(X_{ij})-Min(X_{ij})}</script></li></ol><ol><li>计算第$j$项指标下第$i$个样本占该指标的比重<br> 计算样本权重：<script type="math/tex; mode=display">P_{ij}=\frac{X_{ij}}{\sum_{i=1}^{n}X_{ij}}</script></li></ol><ol><li><p>计算第$j$项指标的熵值<br> 计算指标熵值：</p><script type="math/tex; mode=display">e_j=-K*\sum_{i=1}^{n}(P_{ij}*ln(P_{ij})) \\K=\frac{1}{ln(n)}，其中n为样本个数。</script></li><li><p>计算第$j$项指标的差异系数<br> 某项指标的信息效用值取决于该指标的信息熵$e_j$与$1$之间的差值，它的值直接影响权重的大小。信息效用值越大，对评价的重要性就越大，权重也就越大。</p><script type="math/tex; mode=display">d_j=1-e_j</script></li></ol><ol><li>计算评价指标权重<br> 利用熵值法估算各指标的权重，其本质是利用该指标信息的差异系数来计算，其差异系数越高，对评价的重要性就越大（或称权重越大，对评价结果的贡献就越大）<br> 第$j$项指标的权重：<script type="math/tex; mode=display">w_j=\frac{d_j}{\sum_{j=1}^md_j}</script></li></ol><ol><li>计算各样本综合得分<script type="math/tex; mode=display"> z_i=\sum_{j=1}^mw_jx_{ij}</script><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line">data = pd.read_excel(<span class="string">"./temp.xlsx"</span>, index_col=[<span class="number">0</span>])</span><br><span class="line">data.head()</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/2020063019235262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQyNTc4NA==,size_16,color_FFFFFF,t_70" alt="图1"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正向指标标准化处理</span></span><br><span class="line">data[[<span class="string">"cured_rate"</span>, <span class="string">"StringencyIndex"</span>, <span class="string">"GovernmentResponseIndex"</span>, <span class="string">"ContainmentHealthIndex"</span>, </span><br><span class="line">      <span class="string">"EconomicSupportIndex"</span>]] = (data[[<span class="string">"cured_rate"</span>, <span class="string">"StringencyIndex"</span>, <span class="string">"GovernmentResponseIndex"</span>, <span class="string">"ContainmentHealthIndex"</span>, </span><br><span class="line">      <span class="string">"EconomicSupportIndex"</span>]]-data[[<span class="string">"cured_rate"</span>, <span class="string">"StringencyIndex"</span>, <span class="string">"GovernmentResponseIndex"</span>, <span class="string">"ContainmentHealthIndex"</span>, </span><br><span class="line">      <span class="string">"EconomicSupportIndex"</span>]].min())/(data[[<span class="string">"cured_rate"</span>, <span class="string">"StringencyIndex"</span>, <span class="string">"GovernmentResponseIndex"</span>, <span class="string">"ContainmentHealthIndex"</span>, </span><br><span class="line">      <span class="string">"EconomicSupportIndex"</span>]].max()-data[[<span class="string">"cured_rate"</span>, <span class="string">"StringencyIndex"</span>, <span class="string">"GovernmentResponseIndex"</span>, <span class="string">"ContainmentHealthIndex"</span>,<span class="string">"EconomicSupportIndex"</span>]].min())</span><br><span class="line"><span class="comment"># 反向指标标准化处理</span></span><br><span class="line">data[[<span class="string">"confirmed"</span>,<span class="string">"confirmed_rate"</span>,<span class="string">"dead_rate"</span>]] = (data[[<span class="string">"confirmed"</span>,<span class="string">"confirmed_rate"</span>,<span class="string">"dead_rate"</span>]].max() - data[[<span class="string">"confirmed"</span>,<span class="string">"confirmed_rate"</span>,<span class="string">"dead_rate"</span>]])/(data[[<span class="string">"confirmed"</span>,<span class="string">"confirmed_rate"</span>,<span class="string">"dead_rate"</span>]].max()-data[[<span class="string">"confirmed"</span>,<span class="string">"confirmed_rate"</span>,<span class="string">"dead_rate"</span>]].min())</span><br><span class="line"><span class="comment"># 计算样本权重,data为标准化后的数据</span></span><br><span class="line">p = data/data.sum()</span><br><span class="line"><span class="comment"># 计算指标熵值</span></span><br><span class="line">K = <span class="number">1</span>/np.log(len(p))</span><br><span class="line">e = -K*np.sum(p*np.log(p))</span><br><span class="line"><span class="comment"># 计算差异系数</span></span><br><span class="line">d = <span class="number">1</span>-e</span><br><span class="line"><span class="comment"># 计算指标权重</span></span><br><span class="line">w = d/d.sum()</span><br><span class="line"><span class="comment"># 计算综合得分</span></span><br><span class="line">score = (w*data).sum(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Faker库的使用方法</title>
      <link href="/2020/08/29/faker-ku-shi-yong-fang-fa/"/>
      <url>/2020/08/29/faker-ku-shi-yong-fang-fa/</url>
      
        <content type="html"><![CDATA[<p>我们在开发中常常需要利用一些假数据来做测试,这种时候就可以使用 <code>Faker</code> 来伪造数据从而用来测试。<a href="https://link.jianshu.com/?t=https://github.com/joke2k/faker" target="_blank" rel="noopener"><strong>Faker</strong></a> 是一个可以让你生成伪造数据的Python包。当你需要初始化数据库，创建美观的XML文档，不断产生数据来进行压力测试或者想从生产服务器上拉取匿名数据的时候，Faker将是你最棒的选择。</p><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>Faker库已经被提交到 <a href="https://link.jianshu.com/?t=https://pypi.python.org/pypi/Faker" target="_blank" rel="noopener"><strong>pip</strong></a>，可以通过 pip 工具直接安装。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Faker</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p><a href="https://faker.readthedocs.io/en/master/" target="_blank" rel="noopener"><strong>官方文档</strong></a></p><p>faker 提供了一个工厂函数，用来创建数据。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> faker <span class="keyword">import</span> Factory</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake1 = Factory.create()</span><br></pre></td></tr></table></figure><p>当然，也提供一个Faker类来创建实例</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake2 = Faker()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake2.name()</span><br><span class="line"><span class="string">'Audrey Robinson'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake2.address()</span><br><span class="line"><span class="string">'4266 Fritz Shore\nLewischester, AL 24594-7593'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake2.text()</span><br><span class="line"><span class="string">'Odio porro unde sint aliquid beatae. Ex officiis porro nostrum laboriosam deleniti nisi. A aut molestiae ratione ipsam perspiciatis facere.\nDicta incidunt at deleniti recusandae accusamus quisquam.'</span></span><br></pre></td></tr></table></figure><p>每次调用方法 <code>fake.name()</code> 都会产生不同的（随机）结果。这是因为 faker 向 <code>faker.Generator.method_name()</code> 调用了 <code>faker.Generator.format(method_name)</code>。</p><h2 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h2><p>在用 <code>Faker()</code> 创建 faker 实例时，可以为实例指定本地化区域参数，默认为 ‘’n_US‘’因此生成的姓名、地址等都是美国的。<br>要生成中文伪造数据，只需：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake = Faker(<span class="string">"zh_CN"</span>)</span><br></pre></td></tr></table></figure><h2 id="方法介绍"><a href="#方法介绍" class="headerlink" title="方法介绍"></a>方法介绍</h2><p>如上面例子，每次调用 fake 实例的 <code>name()</code>方法时，都会产生不同随机姓名。fake 实例还有很多方法可用，这些方法分为以下几类：</p><ul><li>address 地址</li><li>person 人物类：性别、姓名等</li><li>barcode 条码类</li><li>color 颜色类</li><li>company 公司类：公司名、公司email、公司名前缀等</li><li>credit_card 银行卡类：卡号、有效期、类型等</li><li>currency 货币</li><li>date_time 时间日期类：日期、年、月等</li><li>file 文件类：文件名、文件类型、文件扩展名等</li><li>internet 互联网类</li><li>job 工作</li><li>lorem 乱数假文</li><li>misc 杂项类</li><li>phone_number 手机号码类：手机号、运营商号段</li><li>python python数据</li><li>profile 人物描述信息：姓名、性别、地址、公司等</li><li>ssn 社会安全码(身份证号码)</li><li>user_agent 用户代理</li></ul><h3 id="address-地址"><a href="#address-地址" class="headerlink" title="address 地址"></a>address 地址</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.country()  <span class="comment"># 国家</span></span><br><span class="line"><span class="string">'奥地利'</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.city()  <span class="comment"># 城市</span></span><br><span class="line"><span class="string">'郑州市'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.city_suffix()  <span class="comment"># 城市的后缀,中文是：市或县'市'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.address()  <span class="comment"># 地址</span></span><br><span class="line"><span class="string">'河北省巢湖县怀柔南宁路f座 169812'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.street_address()  <span class="comment"># 街道</span></span><br><span class="line"><span class="string">'邯郸路W座'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.street_name()  <span class="comment"># 街道名</span></span><br><span class="line"><span class="string">'合肥路'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.postcode()  <span class="comment"># 邮编</span></span><br><span class="line"><span class="string">'314548'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.latitude()  <span class="comment"># 维度</span></span><br><span class="line">Decimal(<span class="string">'68.0228435'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.longitude()  <span class="comment"># 经度</span></span><br><span class="line">Decimal(<span class="string">'155.964341'</span>)</span><br></pre></td></tr></table></figure><h3 id="person-人物"><a href="#person-人物" class="headerlink" title="person 人物"></a>person 人物</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.name() <span class="comment"># 姓名</span></span><br><span class="line"><span class="string">'单玉珍'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.last_name() <span class="comment"># 姓</span></span><br><span class="line"><span class="string">'潘'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.first_name() <span class="comment"># 名</span></span><br><span class="line"><span class="string">'琴'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.name_male() <span class="comment"># 男性姓名</span></span><br><span class="line"><span class="string">'官平'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.last_name_male() <span class="comment"># 男性姓</span></span><br><span class="line"><span class="string">'安'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.first_name_male() <span class="comment"># 男性名</span></span><br><span class="line"><span class="string">'文'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.name_female() <span class="comment"># 女性姓名</span></span><br><span class="line"><span class="string">'许颖'</span></span><br></pre></td></tr></table></figure><h3 id="barcode-条码"><a href="#barcode-条码" class="headerlink" title="barcode 条码"></a>barcode 条码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.ean8()  <span class="comment"># 8位条码</span></span><br><span class="line"><span class="string">'12771363'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.ean13()  <span class="comment"># 13位条码</span></span><br><span class="line"><span class="string">'9133134950963'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.ean(length=<span class="number">8</span>)  <span class="comment"># 自定义位数条码,只能选8或者13</span></span><br><span class="line"><span class="string">'20417161'</span></span><br></pre></td></tr></table></figure><h3 id="color-颜色"><a href="#color-颜色" class="headerlink" title="color  颜色"></a>color  颜色</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.hex_color() <span class="comment"># 16进制表示的颜色</span></span><br><span class="line"><span class="string">'#671f6d'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.rgb_css_color() <span class="comment"># css用的rgb色</span></span><br><span class="line"><span class="string">'rgb(237,74,237)'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.rgb_color()  <span class="comment"># 表示rgb色的字符串</span></span><br><span class="line"><span class="string">'208,102,218'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.color_name() <span class="comment"># 颜色名字</span></span><br><span class="line"><span class="string">'Brown'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.safe_hex_color()  <span class="comment">#安全16进制色</span></span><br><span class="line"><span class="string">'#ee4400'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.safe_color_name() <span class="comment"># 安全颜色名字</span></span><br><span class="line"><span class="string">'maroon'</span></span><br></pre></td></tr></table></figure><h3 id="company-公司"><a href="#company-公司" class="headerlink" title="company 公司"></a>company 公司</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.company() <span class="comment"># 公司名</span></span><br><span class="line"><span class="string">'时空盒数字科技有限公司'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.company_suffix() <span class="comment"># 公司名后缀</span></span><br><span class="line"><span class="string">'科技有限公司'</span></span><br></pre></td></tr></table></figure><h3 id="credit-card-银行信用卡"><a href="#credit-card-银行信用卡" class="headerlink" title="credit_card 银行信用卡"></a>credit_card 银行信用卡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.credit_card_number(card_type=<span class="literal">None</span>) <span class="comment"># 卡号</span></span><br><span class="line"><span class="string">'375325478746231'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.credit_card_provider(card_type=<span class="literal">None</span>) <span class="comment"># 卡的提供者</span></span><br><span class="line"><span class="string">'VISA 13 digit'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.credit_card_security_code(card_type=<span class="literal">None</span>) <span class="comment"># 卡的安全密码</span></span><br><span class="line"><span class="string">'450'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.credit_card_expire() <span class="comment"># 卡的有效期</span></span><br><span class="line"><span class="string">'04/22'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.credit_card_full(card_type=<span class="literal">None</span>) <span class="comment"># 完整卡信息</span></span><br><span class="line"><span class="string">'Maestro\n秀芳 商\n502001016117 04/27\nCVV: 144\n'</span></span><br></pre></td></tr></table></figure><h3 id="currency-货币"><a href="#currency-货币" class="headerlink" title="currency 货币"></a>currency 货币</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.currency_code()  <span class="comment"># 货币代码</span></span><br><span class="line"><span class="string">'HNL'</span></span><br></pre></td></tr></table></figure><h3 id="date-time-时间日期"><a href="#date-time-时间日期" class="headerlink" title="date_time 时间日期"></a>date_time 时间日期</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time(tzinfo=<span class="literal">None</span>) <span class="comment"># 随机日期时间</span></span><br><span class="line">datetime.datetime(<span class="number">2001</span>, <span class="number">3</span>, <span class="number">18</span>, <span class="number">17</span>, <span class="number">57</span>, <span class="number">44</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.iso8601(tzinfo=<span class="literal">None</span>) <span class="comment"># 以iso8601标准输出的日期</span></span><br><span class="line"><span class="string">'1973-11-16T22:58:37'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time_this_month(before_now=<span class="literal">True</span>, after_now=<span class="literal">False</span>, tzinfo=<span class="literal">None</span>) <span class="comment"># 本月的某个日期</span></span><br><span class="line">datetime.datetime(<span class="number">2017</span>, <span class="number">11</span>, <span class="number">1</span>, <span class="number">14</span>, <span class="number">33</span>, <span class="number">48</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time_this_year(before_now=<span class="literal">True</span>, after_now=<span class="literal">False</span>, tzinfo=<span class="literal">None</span>) <span class="comment"># 本年的某个日期</span></span><br><span class="line">datetime.datetime(<span class="number">2017</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">55</span>, <span class="number">31</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time_this_decade(before_now=<span class="literal">True</span>, after_now=<span class="literal">False</span>, tzinfo=<span class="literal">None</span>)  <span class="comment"># 本年代内的一个日期</span></span><br><span class="line">datetime.datetime(<span class="number">2010</span>, <span class="number">3</span>, <span class="number">26</span>, <span class="number">6</span>, <span class="number">33</span>, <span class="number">23</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time_this_century(before_now=<span class="literal">True</span>, after_now=<span class="literal">False</span>, tzinfo=<span class="literal">None</span>)  <span class="comment"># 本世纪一个日期</span></span><br><span class="line">datetime.datetime(<span class="number">2015</span>, <span class="number">7</span>, <span class="number">21</span>, <span class="number">19</span>, <span class="number">27</span>, <span class="number">53</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time_between(start_date=<span class="string">"-30y"</span>, end_date=<span class="string">"now"</span>, tzinfo=<span class="literal">None</span>)  <span class="comment"># 两个时间间的一个随机时间</span></span><br><span class="line">datetime.datetime(<span class="number">2005</span>, <span class="number">12</span>, <span class="number">3</span>, <span class="number">17</span>, <span class="number">17</span>, <span class="number">15</span>)</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.timezone() <span class="comment"># 时区</span></span><br><span class="line"><span class="string">'America/Guatemala'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.time(pattern=<span class="string">"%H:%M:%S"</span>) <span class="comment"># 时间（可自定义格式）</span></span><br><span class="line"><span class="string">'11:21:52'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.am_pm() <span class="comment"># 随机上午下午</span></span><br><span class="line"><span class="string">'PM'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.month() <span class="comment"># 随机月份</span></span><br><span class="line"><span class="string">'02'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.month_name() <span class="comment"># 随机月份名字</span></span><br><span class="line"><span class="string">'August'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.year() <span class="comment"># 随机年</span></span><br><span class="line"><span class="string">'1974'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.day_of_week() <span class="comment"># 随机星期几</span></span><br><span class="line"><span class="string">'Sunday'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.day_of_month() <span class="comment"># 随机月中某一天</span></span><br><span class="line"><span class="string">'02'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.time_delta() <span class="comment"># 随机时间延迟</span></span><br><span class="line">datetime.timedelta(<span class="number">13371</span>, <span class="number">27637</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_object()  <span class="comment"># 随机日期对象</span></span><br><span class="line">datetime.date(<span class="number">1983</span>, <span class="number">1</span>, <span class="number">26</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.time_object() <span class="comment"># 随机时间对象</span></span><br><span class="line">datetime.time(<span class="number">17</span>, <span class="number">8</span>, <span class="number">56</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.unix_time() <span class="comment"># 随机unix时间（时间戳）</span></span><br><span class="line"><span class="number">1223246848</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date(pattern=<span class="string">"%Y-%m-%d"</span>) <span class="comment"># 随机日期（可自定义格式）</span></span><br><span class="line"><span class="string">'1984-04-20'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.date_time_ad(tzinfo=<span class="literal">None</span>)  <span class="comment"># 公元后随机日期</span></span><br><span class="line">datetime.datetime(<span class="number">341</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span>)</span><br></pre></td></tr></table></figure><h3 id="file-文件"><a href="#file-文件" class="headerlink" title="file 文件"></a>file 文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.file_name(category=<span class="string">"image"</span>, extension=<span class="string">"png"</span>) <span class="comment"># 文件名（指定文件类型和后缀名）</span></span><br><span class="line"><span class="string">'增加.png'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.file_name() <span class="comment"># 随机生成各类型文件</span></span><br><span class="line"><span class="string">'提供.pdf'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.file_extension(category=<span class="literal">None</span>) <span class="comment"># 文件后缀</span></span><br><span class="line"><span class="string">'txt'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.mime_type(category=<span class="literal">None</span>) <span class="comment"># mime-type</span></span><br><span class="line"><span class="string">'image/png'</span></span><br></pre></td></tr></table></figure><h3 id="internet-互联网"><a href="#internet-互联网" class="headerlink" title="internet 互联网"></a>internet 互联网</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.ipv4(network=<span class="literal">False</span>)  <span class="comment"># ipv4地址</span></span><br><span class="line"><span class="string">'104.225.105.10'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.ipv6(network=<span class="literal">False</span>)  <span class="comment"># ipv6地址</span></span><br><span class="line"><span class="string">'dea6:ca11:39d0:b49f:fff1:82f1:bf88:698b'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.uri_path(deep=<span class="literal">None</span>) <span class="comment"># uri路径</span></span><br><span class="line"><span class="string">'search/categories'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.uri_extension() <span class="comment"># uri扩展名</span></span><br><span class="line"><span class="string">'.htm'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.uri() <span class="comment"># uri</span></span><br><span class="line"><span class="string">'https://www.wei.com/terms/'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.url() <span class="comment"># url</span></span><br><span class="line"><span class="string">'http://zheng.org/'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.image_url(width=<span class="literal">None</span>, height=<span class="literal">None</span>)  <span class="comment"># 图片url</span></span><br><span class="line"><span class="string">'https://www.lorempixel.com/700/990'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.domain_word() <span class="comment"># 域名主体</span></span><br><span class="line"><span class="string">'hu'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.domain_name() <span class="comment"># 域名</span></span><br><span class="line"><span class="string">'hu.cn'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.tld() <span class="comment"># 域名后缀</span></span><br><span class="line"><span class="string">'com'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.user_name() <span class="comment"># 用户名</span></span><br><span class="line"><span class="string">'xia13'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.user_agent() <span class="comment"># UA</span></span><br><span class="line"><span class="string">'Opera/8.33.(Windows NT 5.1; an-ES) Presto/2.9.171 Version/10.00'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.mac_address() <span class="comment"># MAC地址</span></span><br><span class="line"><span class="string">'d6:38:cc:2a:76:b2'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.safe_email() <span class="comment"># 安全邮箱</span></span><br><span class="line"><span class="string">'mingli@example.net'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.free_email() <span class="comment"># 免费邮箱</span></span><br><span class="line"><span class="string">'tao44@gmail.com'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.company_email()  <span class="comment"># 公司邮箱</span></span><br><span class="line"><span class="string">'jingzhong@wang.cn'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.email() <span class="comment"># 邮箱</span></span><br><span class="line"><span class="string">'changjun@hao.com'</span></span><br></pre></td></tr></table></figure><h3 id="job-工作"><a href="#job-工作" class="headerlink" title="job 工作"></a>job 工作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.job()<span class="comment">#工作职位</span></span><br><span class="line"><span class="string">'Dealer'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.job()</span><br><span class="line"><span class="string">'Musician'</span></span><br></pre></td></tr></table></figure><h3 id="lorem-乱数假文"><a href="#lorem-乱数假文" class="headerlink" title="lorem 乱数假文"></a>lorem 乱数假文</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.text(max_nb_chars=<span class="number">200</span>) <span class="comment"># 随机生成一篇文章</span></span><br><span class="line"><span class="string">'语言无法应用为什一点国内.要求完成如何世界电脑发布作品.经济不同教育个人科技全国.\n在线学生发布信息上海状态.\n联系一次通过其实介绍世界.增加也是使用成功那个.\n商品免费管理公司.留言自己这种内容.\n次数内容知道这样女人感觉.操作他的生产出现如何报告文章只有.\n个人文化中心不能发布最新.质量一下提高.感觉最大工具表示最后计划.这是还有次数结果其实特别.'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.word() <span class="comment"># 随机单词</span></span><br><span class="line"><span class="string">'能力'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.words(nb=<span class="number">3</span>)  <span class="comment"># 随机生成几个字</span></span><br><span class="line">[<span class="string">'国家'</span>, <span class="string">'经营'</span>, <span class="string">'结果'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.sentence(nb_words=<span class="number">6</span>, variable_nb_words=<span class="literal">True</span>)  <span class="comment"># 随机生成一个句子</span></span><br><span class="line"><span class="string">'重要更多我们作品地方增加.'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.sentences(nb=<span class="number">3</span>) <span class="comment"># 随机生成几个句子</span></span><br><span class="line">[<span class="string">'制作上海学生.'</span>, <span class="string">'方式汽车一样技术帮助欢迎.'</span>, <span class="string">'说明一种深圳经营电话帖子.'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.paragraph(nb_sentences=<span class="number">3</span>, variable_nb_sentences=<span class="literal">True</span>)  <span class="comment"># 随机生成一段文字(字符串)</span></span><br><span class="line"><span class="string">'非常环境位置有限发展首页行业.情况对于出现部门这种觉得.产品以后因为虽然由于日本不同.'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.paragraphs(nb=<span class="number">3</span>)  <span class="comment"># 随机生成成几段文字(列表)</span></span><br><span class="line">[<span class="string">'就是发布要求有关这里国际.美国设备深圳经营.首页也是支持报告.'</span>, <span class="string">'决定可是只有发现开始一直.最后有些项目正在深圳关系决定.下载注册图片更多进行他的那些.'</span>, <span class="string">'必须他们发生数据准备联系.同时这样内容学校精华.'</span>]</span><br></pre></td></tr></table></figure><h3 id="misc-杂项"><a href="#misc-杂项" class="headerlink" title="misc 杂项"></a>misc 杂项</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.binary(length=<span class="number">10</span>)  <span class="comment"># 随机二进制字符串(可指定长度)</span></span><br><span class="line"><span class="string">b'U\xa9@\x1e\x96\xe7\xca\x82\x14f'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.language_code()   <span class="comment"># 随机语言代码</span></span><br><span class="line"><span class="string">'tg'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.md5(raw_output=<span class="literal">False</span>)  <span class="comment"># 随机md5，16进制字符串</span></span><br><span class="line"><span class="string">'cc4feebe419791332bbcff5e0fdf084a'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.sha1(raw_output=<span class="literal">False</span>) <span class="comment"># 随机sha1，16进制字符串</span></span><br><span class="line"><span class="string">'8ac0e9980f880860b6e45ae6fd257cc847b7ae8d'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.sha256(raw_output=<span class="literal">False</span>)   <span class="comment"># 随机sha256，16进制字符串</span></span><br><span class="line"><span class="string">'033151f173f4a389e38e7df2363d89741f752c474e7bdfa2ee0a794bf0b505b5'</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.boolean(chance_of_getting_true=<span class="number">50</span>) <span class="comment"># 随机真假值(得到True的几率是50%)</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.null_boolean() <span class="comment"># 随机真假值和null</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.null_boolean()</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.password(length=<span class="number">10</span>, special_chars=<span class="literal">True</span>, digits=<span class="literal">True</span>, upper_case=<span class="literal">True</span>, lower_case=<span class="literal">True</span>) <span class="comment"># 随机密码（可指定密码策略）</span></span><br><span class="line"><span class="string">'F%722TJg_U'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.locale() <span class="comment"># 随机本地代码</span></span><br><span class="line"><span class="string">'hy_AM'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.uuid4() <span class="comment"># 随机uuid</span></span><br><span class="line"><span class="string">'a50d17e7-bc4f-37a3-27b3-04a24fdd0055'</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><h3 id="phone-number-电话号码"><a href="#phone-number-电话号码" class="headerlink" title="phone_number 电话号码"></a>phone_number 电话号码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.phone_number() <span class="comment"># 手机号码</span></span><br><span class="line"><span class="string">'13334603608'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.phonenumber_prefix() <span class="comment"># 运营商号段，手机号码前三位</span></span><br><span class="line"><span class="number">158</span></span><br></pre></td></tr></table></figure><h3 id="python-python数据"><a href="#python-python数据" class="headerlink" title="python python数据"></a>python python数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pyint()  <span class="comment"># 随机int</span></span><br><span class="line"><span class="number">7775</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pyfloat(left_digits=<span class="literal">None</span>, right_digits=<span class="literal">None</span>, positive=<span class="literal">False</span>)  <span class="comment"># 浮点数</span></span><br><span class="line"><span class="number">-84901.5586333</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pydecimal(left_digits=<span class="literal">None</span>, right_digits=<span class="literal">None</span>, positive=<span class="literal">False</span>)  <span class="comment"># 随机高精度数</span></span><br><span class="line">Decimal(<span class="string">'-12273687068527.0'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pystr(min_chars=<span class="literal">None</span>, max_chars=<span class="number">20</span>)  <span class="comment"># 随机字符串（可指定长度）</span></span><br><span class="line"><span class="string">'cblutNKFIyegfcHPrjzx'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pybool()  <span class="comment"># 随机bool值</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pyiterable(nb_elements=<span class="number">10</span>, variable_nb_elements=<span class="literal">True</span>)  <span class="comment"># 随机iterable</span></span><br><span class="line">[<span class="string">'ODfeVvcbAjPDBGwzljQw'</span>, <span class="string">'https://www.tan.cn/list/category/homepage.php'</span>, <span class="string">'YQlrsFkBieyKYaXlCljJ'</span>, Decimal(<span class="string">'42778240911787.2'</span>), Decimal(<span class="string">'957411812.6383'</span>), <span class="string">'TGbqZufoiUXLQTZDrVcP'</span>, <span class="string">'http://yan.com/posts/tags/search/terms.php'</span>, <span class="number">3.680492634254</span>, <span class="string">'min57@hotmail.com'</span>, datetime.datetime(<span class="number">2001</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">49</span>), <span class="string">'xMMOjlETIgKGqVGTrChG'</span>, <span class="string">'yong83@xu.cn'</span>]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pylist(nb_elements=<span class="number">10</span>, variable_nb_elements=<span class="literal">True</span> )  <span class="comment"># 随机生成一个list</span></span><br><span class="line">[<span class="string">'KXQMXAkcEMSLfnIZkgJb'</span>, <span class="string">'BtowiRsuIqyyULnSYYdr'</span>, datetime.datetime(<span class="number">2011</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">44</span>, <span class="number">2</span>), datetime.datetime(<span class="number">2008</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">38</span>, <span class="number">38</span>), <span class="string">'juan47@hotmail.com'</span>, <span class="string">'QEsdUpEqHLpThyWCjkNx'</span>, Decimal(<span class="string">'-801375867.9'</span>), <span class="string">'ucDyeZnHAXfZtkwdVUbR'</span>, <span class="number">4707</span>, datetime.datetime(<span class="number">1974</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">54</span>, <span class="number">29</span>)]</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pydict(nb_elements=<span class="number">10</span>, variable_nb_elements=<span class="literal">True</span>)   <span class="comment"># 随机字典</span></span><br><span class="line">&#123;<span class="string">'其中'</span>: <span class="number">9047</span>, <span class="string">'一直'</span>: <span class="string">'AUiUjuqccIdVAWSqzDbW'</span>, <span class="string">'选择'</span>: <span class="string">'ddong@hotmail.com'</span>, <span class="string">'开发'</span>: datetime.datetime(<span class="number">1972</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">9</span>), <span class="string">'电影'</span>: <span class="string">'KYmolBhkjSRxloXXFUUT'</span>, <span class="string">'文化'</span>: <span class="number">2681</span>, <span class="string">'这里'</span>: <span class="string">'uyang@yahoo.com'</span>, <span class="string">'不会'</span>: <span class="string">'ZPkwuxWsrJSHMNuFiWEx'</span>, <span class="string">'社会'</span>: <span class="string">'CiujeaZMZSuyYwuKzEdN'</span>&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pyset(nb_elements=<span class="number">10</span>, variable_nb_elements=<span class="literal">True</span>)  <span class="comment"># 随机set</span></span><br><span class="line">&#123;<span class="string">'bhe@hotmail.com'</span>, <span class="string">'http://fu.cn/list/home.htm'</span>, <span class="string">'MlJluVirRkofBnKNtphM'</span>, <span class="number">296</span>, <span class="string">'ghoUSHkuEGmCzlJFKyHZ'</span>, datetime.datetime(<span class="number">2008</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">55</span>, <span class="number">4</span>), <span class="string">'AgbynHjdvwYpUkbMsfqr'</span>, <span class="number">8751</span>, <span class="number">9649</span>, <span class="string">'tangguiying@hotmail.com'</span>, Decimal(<span class="string">'5727570036.91'</span>), <span class="string">'HmDkExndcQIOaTtsSpsc'</span>, <span class="string">'hjQlLLXuHVVzENEwoHJK'</span>&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pytuple(nb_elements=<span class="number">10</span>, variable_nb_elements=<span class="literal">True</span>)   <span class="comment"># 随机tuple</span></span><br><span class="line">(<span class="string">'http://www.cai.com/index/'</span>, datetime.datetime(<span class="number">1973</span>, <span class="number">7</span>, <span class="number">28</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">23</span>), <span class="string">'khltJQMYJvIDRMYodviZ'</span>, <span class="string">'uJezUsEqiHaiFxwOPWvl'</span>, <span class="string">'qojwZHyytBSQQavkDaTu'</span>, <span class="string">'AHUCHYuVJTHnoSEuQDSY'</span>, <span class="number">1012</span>, <span class="string">'uEYVuzeTlgVhrnCATfKw'</span>, <span class="string">'https://www.zhou.com/categories/tags/main/'</span>, <span class="string">'LbLSFZPeATtzHvbmYhGr'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.pystruct()  <span class="comment"># 随机生成3个有10个元素的python数据结构</span></span><br><span class="line">([datetime.datetime(<span class="number">1996</span>, <span class="number">10</span>, <span class="number">26</span>, <span class="number">7</span>, <span class="number">35</span>, <span class="number">26</span>), datetime.datetime(<span class="number">1998</span>, <span class="number">2</span>, <span class="number">28</span>, <span class="number">17</span>, <span class="number">20</span>, <span class="number">8</span>), <span class="string">'qianming@hotmail.com'</span>, <span class="string">'yEWMrpTqtAHfbxqldGrb'</span>, <span class="string">'YgKYOnrjuthOrOXhlYIl'</span>, datetime.datetime(<span class="number">1994</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">55</span>, <span class="number">30</span>), Decimal(<span class="string">'-6865068.3'</span>), <span class="string">'SYHFHiFvJlRVPcCKumUM'</span>, <span class="number">-8619.4354</span>, <span class="string">'kwGipwcASeALLeKdaWBi'</span>], &#123;<span class="string">'同时'</span>: <span class="string">'BvtYdkNTHwZNMiIIRwKd'</span>, <span class="string">'空间'</span>: <span class="number">310959668662.457</span>, <span class="string">'特别'</span>: <span class="string">'PZQDBuuQWkcdryMloyKS'</span>, <span class="string">'音乐'</span>: Decimal(<span class="string">'-7219015925.0'</span>), <span class="string">'项目'</span>: <span class="string">'https://www.zhou.cn/main.php'</span>, <span class="string">'回复'</span>: <span class="number">30.408750841</span>, <span class="string">'显示'</span>: <span class="string">'etZMrsjXJgZpDfZWhpoS'</span>, <span class="string">'大小'</span>: <span class="number">7472</span>, <span class="string">'类型'</span>: <span class="string">'OsjpxgLqnTcdVOlHoMoP'</span>, <span class="string">'什么'</span>: <span class="string">'http://www.xia.com/posts/app/index/'</span>&#125;, &#123;<span class="string">'朋友'</span>: &#123;<span class="number">0</span>: <span class="number">-415025.243093017</span>, <span class="number">1</span>: [<span class="number">1799</span>, <span class="number">585</span>, <span class="string">'shu@hotmail.com'</span>], <span class="number">2</span>: &#123;<span class="number">0</span>: <span class="number">9980</span>, <span class="number">1</span>: <span class="string">'qnOnFTzGnsjvXGybBnMF'</span>, <span class="number">2</span>: [<span class="string">'http://zheng.cn/list/search/tag/faq.html'</span>, Decimal(<span class="string">'964285276661463.0'</span>)]&#125;&#125;, <span class="string">'发生'</span>: &#123;<span class="number">1</span>: <span class="number">-5339010.6134</span>, <span class="number">2</span>: [datetime.datetime(<span class="number">1987</span>, <span class="number">6</span>, <span class="number">23</span>, <span class="number">15</span>, <span class="number">21</span>, <span class="number">45</span>), <span class="string">'SvSpvKqTXlJvdQhHScwM'</span>, <span class="string">'PZjKOYzZzoNVsHLRcARQ'</span>], <span class="number">3</span>: &#123;<span class="number">1</span>: <span class="string">'https://www.yan.cn/register/'</span>, <span class="number">2</span>: <span class="number">2191</span>, <span class="number">3</span>: [<span class="string">'HMHKQuLRBQaaAypRbtHU'</span>, datetime.datetime(<span class="number">2014</span>, <span class="number">5</span>, <span class="number">24</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">36</span>)]&#125;&#125;, <span class="string">'我的'</span>: &#123;<span class="number">2</span>: <span class="string">'linxia@yahoo.com'</span>, <span class="number">3</span>: [<span class="string">'http://gu.com/about.php'</span>, <span class="string">'DhzpWYkgLCobGSHDLXzI'</span>, <span class="number">1420</span>], <span class="number">4</span>: &#123;<span class="number">2</span>: datetime.datetime(<span class="number">1986</span>, <span class="number">2</span>, <span class="number">22</span>, <span class="number">4</span>, <span class="number">50</span>, <span class="number">12</span>), <span class="number">3</span>: <span class="string">'rRHwQQzkpAMBQxwVITBa'</span>, <span class="number">4</span>: [datetime.datetime(<span class="number">1984</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">52</span>, <span class="number">18</span>), <span class="number">-73821572962388.7</span>]&#125;&#125;, <span class="string">'全部'</span>: &#123;<span class="number">3</span>: <span class="string">'uMQeeBXYNGhrHnAerdjp'</span>, <span class="number">4</span>: [<span class="number">323329.56403</span>, <span class="string">'kFvqXFhhtQPNtrOjKtxa'</span>, <span class="string">'http://peng.cn/'</span>], <span class="number">5</span>: &#123;<span class="number">3</span>: <span class="string">'lcaoeisYIAOsuRjbOXia'</span>, <span class="number">4</span>: Decimal(<span class="string">'-902407032449085.0'</span>), <span class="number">5</span>: [<span class="number">2296</span>, <span class="string">'uyuWgnsONzLluXqXdASM'</span>]&#125;&#125;, <span class="string">'大小'</span>: &#123;<span class="number">4</span>: <span class="string">'min63@hotmail.com'</span>, <span class="number">5</span>: [datetime.datetime(<span class="number">1991</span>, <span class="number">10</span>, <span class="number">22</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">48</span>), <span class="string">'cDYEScdIokWuvGhRkWqs'</span>, <span class="string">'XeDJojWyywFvzmWYaokO'</span>], <span class="number">6</span>: &#123;<span class="number">4</span>: Decimal(<span class="string">'-4167029.2915827'</span>), <span class="number">5</span>: <span class="number">4030</span>, <span class="number">6</span>: [<span class="number">6372</span>, <span class="string">'xfRXXEFGsNQpeIGmbaHU'</span>]&#125;&#125;, <span class="string">'语言'</span>: &#123;<span class="number">5</span>: <span class="string">'https://www.guo.cn/'</span>, <span class="number">6</span>: [<span class="number">6498</span>, datetime.datetime(<span class="number">1981</span>, <span class="number">12</span>, <span class="number">3</span>, <span class="number">18</span>, <span class="number">4</span>, <span class="number">29</span>), <span class="number">42598100345.61</span>], <span class="number">7</span>: &#123;<span class="number">5</span>: <span class="string">'http://zheng.cn/'</span>, <span class="number">6</span>: <span class="number">-229316.268238</span>, <span class="number">7</span>: [<span class="string">'https://www.qiao.cn/home/'</span>, <span class="string">'GtaEXeVxjRnnkggjEguv'</span>]&#125;&#125;, <span class="string">'表示'</span>: &#123;<span class="number">6</span>: <span class="string">'xcBvcGUWxdMhDqgzmhSd'</span>, <span class="number">7</span>: [<span class="string">'kwDaFhyTKqHajGSaNOMf'</span>, <span class="number">8561</span>, <span class="number">5456</span>], <span class="number">8</span>: &#123;<span class="number">6</span>: <span class="string">'https://zhou.cn/tags/tag/faq.html'</span>, <span class="number">7</span>: <span class="string">'IGayAZtTQVlSOasQwgug'</span>, <span class="number">8</span>: [<span class="string">'iCjwBzHfmPSLqAgmIOle'</span>, <span class="number">70511766106574.5</span>]&#125;&#125;, <span class="string">'电子'</span>: &#123;<span class="number">7</span>: <span class="string">'http://www.lu.org/tags/posts/terms/'</span>, <span class="number">8</span>: [datetime.datetime(<span class="number">1978</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">35</span>), <span class="string">'https://song.cn/main/categories/homepage.html'</span>, <span class="string">'https://long.com/register.html'</span>], <span class="number">9</span>: &#123;<span class="number">7</span>: <span class="string">'nFJNhyMYBvfTxrYwYPUQ'</span>, <span class="number">8</span>: <span class="number">-2252757903.0</span>, <span class="number">9</span>: [<span class="string">'GuJnhMEgXoMAivrgGZie'</span>, datetime.datetime(<span class="number">2014</span>, <span class="number">5</span>, <span class="number">29</span>, <span class="number">1</span>, <span class="number">17</span>, <span class="number">50</span>)]&#125;&#125;, <span class="string">'的人'</span>: &#123;<span class="number">8</span>: <span class="string">'WgHePwYSPgSiPllXpLlJ'</span>, <span class="number">9</span>: [<span class="number">1782</span>, <span class="string">'fSepbXwpvhiBphzDTDNC'</span>, <span class="number">-9117731.63459416</span>], <span class="number">10</span>: &#123;<span class="number">8</span>: <span class="number">5602</span>, <span class="number">9</span>: <span class="number">3664</span>, <span class="number">10</span>: [<span class="string">'http://www.mao.com/search/tag/main/'</span>, Decimal(<span class="string">'5579.7377'</span>)]&#125;&#125;, <span class="string">'不过'</span>: &#123;<span class="number">9</span>: <span class="string">'rOfkDPTHvzKbfvQHbPNm'</span>, <span class="number">10</span>: [<span class="number">314.397</span>, <span class="string">'StqeLyXkIDKHfExSjggk'</span>, <span class="string">'xiuyingkang@gao.cn'</span>], <span class="number">11</span>: &#123;<span class="number">9</span>: <span class="string">'BLKNdcccamYzBwRcMxlx'</span>, <span class="number">10</span>: <span class="string">'yongduan@gong.org'</span>, <span class="number">11</span>: [<span class="string">'ZocoQHdbhaNloWALnzwt'</span>, <span class="string">'eWVvvHurAlZZRxlYHZXi'</span>]&#125;&#125;&#125;)</span><br></pre></td></tr></table></figure><h3 id="profile-人物描述信息"><a href="#profile-人物描述信息" class="headerlink" title="profile 人物描述信息"></a>profile 人物描述信息</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.profile(fields=<span class="literal">None</span>, sex=<span class="literal">None</span>)  <span class="comment"># 人物描述信息：姓名、性别、地址、公司等</span></span><br><span class="line">&#123;<span class="string">'job'</span>: <span class="string">'Licensed conveyancer'</span>, <span class="string">'company'</span>: <span class="string">'万迅电脑信息有限公司'</span>, <span class="string">'ssn'</span>: <span class="string">'370684199902182726'</span>, <span class="string">'residence'</span>: <span class="string">'福建省小红市南长广州街K座 406448'</span>, <span class="string">'current_location'</span>: (Decimal(<span class="string">'18.050895'</span>), Decimal(<span class="string">'-0.877117'</span>)), <span class="string">'blood_group'</span>: <span class="string">'0-'</span>, <span class="string">'website'</span>: [<span class="string">'https://www.yi.org/'</span>, <span class="string">'https://www.hu.com/'</span>, <span class="string">'https://www.yin.cn/'</span>], <span class="string">'username'</span>: <span class="string">'minghuang'</span>, <span class="string">'name'</span>: <span class="string">'后英'</span>, <span class="string">'sex'</span>: <span class="string">'F'</span>, <span class="string">'address'</span>: <span class="string">'安徽省秀荣市璧山嘉禾路T座 954960'</span>, <span class="string">'mail'</span>: <span class="string">'czhong@hotmail.com'</span>, <span class="string">'birthdate'</span>: <span class="string">'1975-03-09'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = fake.simple_profile(sex=<span class="string">"m"</span>) <span class="comment"># 人物精简信息</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,v <span class="keyword">in</span> s.items():</span><br><span class="line"><span class="meta">... </span>    print(i,v)</span><br><span class="line">...</span><br><span class="line">username chao85</span><br><span class="line">name 邴宇</span><br><span class="line">sex M</span><br><span class="line">address 陕西省东市朝阳廖街Y座 <span class="number">757661</span></span><br><span class="line">mail xiazhang@gmail.com</span><br><span class="line">birthdate <span class="number">1996</span><span class="number">-09</span><span class="number">-20</span></span><br></pre></td></tr></table></figure><h3 id="ssn-社会安全码-身份证"><a href="#ssn-社会安全码-身份证" class="headerlink" title="ssn 社会安全码(身份证)"></a>ssn 社会安全码(身份证)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.ssn() <span class="comment"># 随机生成身份证号(18位)</span></span><br><span class="line"><span class="string">'140100196612297997'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(fake.ssn())</span><br><span class="line"><span class="number">18</span></span><br></pre></td></tr></table></figure><h3 id="user-agent-用户代理"><a href="#user-agent-用户代理" class="headerlink" title="user_agent 用户代理"></a>user_agent 用户代理</h3><p>常用在伪造浏览器信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.user_agent() <span class="comment"># 伪造UA</span></span><br><span class="line"><span class="string">'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/5361 (KHTML, like Gecko) Chrome/15.0.812.0 Safari/5361'</span></span><br></pre></td></tr></table></figure><p>平台信息伪造</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.linux_platform_token()</span><br><span class="line"><span class="string">'X11; Linux i686'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.linux_processor()</span><br><span class="line"><span class="string">'i686'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.windows_platform_token()</span><br><span class="line"><span class="string">'Windows CE'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.mac_platform_token()</span><br><span class="line"><span class="string">'Macintosh; Intel Mac OS X 10_7_4'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.mac_processor()</span><br><span class="line"><span class="string">'PPC'</span></span><br></pre></td></tr></table></figure><p>浏览器伪造</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.internet_explorer() <span class="comment"># IE浏览器</span></span><br><span class="line"><span class="string">'Mozilla/5.0 (compatible; MSIE 5.0; Windows NT 6.1; Trident/4.0)'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.opera() <span class="comment"># opera浏览器</span></span><br><span class="line"><span class="string">'Opera/9.37.(Windows 95; doi-IN) Presto/2.9.178 Version/10.00'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.firefox() <span class="comment"># firefox浏览器</span></span><br><span class="line"><span class="string">'Mozilla/5.0 (Windows NT 5.0; te-IN; rv:1.9.2.20) Gecko/2015-09-28 13:29:05 Firefox/12.0'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.safari() <span class="comment"># safari浏览器</span></span><br><span class="line"><span class="string">'Mozilla/5.0 (Windows; U; Windows NT 4.0) AppleWebKit/533.37.4 (KHTML, like Gecko) Version/5.0 Safari/533.37.4'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.chrome() <span class="comment"># chrome浏览器</span></span><br><span class="line"><span class="string">'Mozilla/5.0 (Windows 98; Win 9x 4.90) AppleWebKit/5361 (KHTML, like Gecko) Chrome/14.0.866.0 Safari/5361'</span></span><br></pre></td></tr></table></figure><h2 id="自定义扩展"><a href="#自定义扩展" class="headerlink" title="自定义扩展"></a>自定义扩展</h2><p>Faker 已经提供了足够丰富的信息生成，包括名字、手机号、邮箱地址、邮编等等。尽管如此，可能还是没有办法满足你的需求。这时，可以利用自定义扩展，引用外部的 provider，自定义你要的功能。</p><p>Faker 对象可以通过 <code>add_provider</code> 方法将自定义的 Provider 添加到对象中,自定义的 Provider 需要继承自 BaseProvider。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line">fake = Faker()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># first, import a similar Provider or use the default one</span></span><br><span class="line"><span class="keyword">from</span> faker.providers <span class="keyword">import</span> BaseProvider</span><br><span class="line"> </span><br><span class="line"><span class="comment"># create new provider class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProvider</span><span class="params">(BaseProvider)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'bar'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># then add new provider to faker instance</span></span><br><span class="line">fake.add_provider(MyProvider)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># now you can use:</span></span><br><span class="line">print(fake.foo())</span><br></pre></td></tr></table></figure><p>结果显示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bar</span><br></pre></td></tr></table></figure><h2 id="随机控制"><a href="#随机控制" class="headerlink" title="随机控制"></a>随机控制</h2><p><code>Faker</code> 随机生成由 <code>random.Random</code> 驱动。其中，<code>.random</code> 属性返回 <code>random.Random</code> 对象。通过对该对象的操作，可以实现自定义的行为。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line">fake = Faker()</span><br><span class="line">fake.random</span><br><span class="line">fake.random.getstate()</span><br></pre></td></tr></table></figure><p>那么，可以实现什么自定义呢？举个例子，我们可以设置 <code>seed</code>，通过给定的 <code>seed</code> 可以控制每次生成的内容都是一样的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake = Faker()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.random.seed(<span class="number">4321</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.name()</span><br><span class="line"><span class="string">'Ryan Gallagher'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.address()</span><br><span class="line"><span class="string">'7631 Johnson Village Suite 690\nAdamsbury, NC 50008'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.random.seed(<span class="number">4321</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.name()</span><br><span class="line"><span class="string">'Ryan Gallagher'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fake.address()</span><br><span class="line"><span class="string">'7631 Johnson Village Suite 690\nAdamsbury, NC 50008'</span>xxxxxxxxxx &gt;&gt;&gt; <span class="keyword">from</span> faker <span class="keyword">import</span> Faker&gt;&gt;&gt; fake = Faker()&gt;&gt;&gt; fake.random.seed(<span class="number">4321</span>)&gt;&gt;&gt; &gt;&gt;&gt; <span class="keyword">from</span> faker <span class="keyword">import</span> Faker&gt;&gt;&gt; fake = Faker()&gt;&gt;&gt; fake.random.seed(<span class="number">4321</span>)&gt;&gt;&gt; fake.name()<span class="string">'Ryan Gallagher'</span>&gt;&gt;&gt; fake.address()<span class="string">'7631 Johnson Village Suite 690\nAdamsbury, NC 50008'</span>&gt;&gt;&gt; fake.random.seed(<span class="number">4321</span>)&gt;&gt;&gt; fake.name()<span class="string">'Ryan Gallagher'</span>&gt;&gt;&gt; fake.address()<span class="string">'7631 Johnson Village Suite 690\nAdamsbury, NC 50008'</span>fake.name()<span class="string">'Ryan Gallagher'</span>&gt;&gt;&gt; fake.address()<span class="string">'7631 Johnson Village Suite 690\nAdamsbury, NC 50008'</span>&gt;&gt;&gt; fake.random.seed(<span class="number">4321</span>)&gt;&gt;&gt; fake.name()<span class="string">'Ryan Gallagher'</span>&gt;&gt;&gt; fake.address()<span class="string">'7631 Johnson Village Suite 690\nAdamsbury, NC 50008'</span></span><br></pre></td></tr></table></figure><p>不同的两次运行，只要seed一样，生成出来的信息就是一样的。</p><p>注意：<code>fake.random.seed(4321)</code> 可以写成 <code>fake.seed(4321)</code> 。</p><h2 id="命令行生成"><a href="#命令行生成" class="headerlink" title="命令行生成"></a>命令行生成</h2><p>有时想在shell或者其他程序中生成一些伪数据，是不是一定要写一个Python脚本呢？别急——Faker提供了一个命令行工具，估计可以应对大部分场景了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ faker address</span><br><span class="line"><span class="number">968</span> Bahringer Garden Apt. <span class="number">722</span>Kristinaland, NJ <span class="number">09890</span></span><br><span class="line"> </span><br><span class="line">$ python3 -m faker address</span><br><span class="line"><span class="number">432</span> Marvin Wells Apt. <span class="number">593</span>\nWest Eric, DC <span class="number">45650</span><span class="number">-8420</span></span><br><span class="line"> </span><br><span class="line">$ faker -l de_DE address</span><br><span class="line">Samira-Niemeier-Allee <span class="number">5694812</span> Biedenkopf</span><br><span class="line"> </span><br><span class="line">$ faker profile</span><br><span class="line">&#123;<span class="string">'job'</span>: <span class="string">'Designer, blown glass/stained glass'</span>, <span class="string">'company'</span>: <span class="string">'Dennis-Bowers'</span>, <span class="string">'ssn'</span>: <span class="string">'034-28-9965'</span>, <span class="string">'residence'</span>: <span class="string">'34796 Jeremiah Station Apt. 782\nWest Timothy, TX 24139-6974'</span>, <span class="string">'current_location'</span>: (Decimal(<span class="string">'-47.425017'</span>), Decimal(<span class="string">'-42.743615'</span>)), <span class="string">'blood_group'</span>: <span class="string">'0+'</span>, <span class="string">'website'</span>: [<span class="string">'https://www.gardner.biz/'</span>, <span class="string">'http://glover-ellison.info/'</span>, <span class="string">'http://www.harrison.biz/'</span>], <span class="string">'username'</span>: <span class="string">'patrick33'</span>, <span class="string">'name'</span>: <span class="string">'Alexandra Montgomery'</span>, <span class="string">'sex'</span>: <span class="string">'F'</span>, <span class="string">'address'</span>: <span class="string">'2314 Collier Stream Suite 093\nMcintyreside, UT 19553'</span>, <span class="string">'mail'</span>: <span class="string">'gomezterri@hotmail.com'</span>, <span class="string">'birthdate'</span>: <span class="string">'2005-01-30'</span>&#125;</span><br><span class="line"> </span><br><span class="line">$ faker profile ssn,name</span><br><span class="line">&#123;<span class="string">'ssn'</span>: <span class="string">'344-68-7420'</span>, <span class="string">'name'</span>: <span class="string">'Veronica Brennan'</span>&#125;</span><br><span class="line"> </span><br><span class="line">$ faker -r=<span class="number">3</span> -s=<span class="string">";"</span> name</span><br><span class="line">Willam Kertzmann;</span><br><span class="line">Josiah Maggio;</span><br><span class="line">Gayla Schmitt;</span><br></pre></td></tr></table></figure><p>faker 命令帮助：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">faker [-h] [--version] [-o output]</span><br><span class="line">      [-l &#123;bg_BG,cs_CZ,...,zh_CN,zh_TW&#125;]</span><br><span class="line">      [-r REPEAT] [-s SEP]</span><br><span class="line">      [-i &#123;module.containing.custom_provider othermodule.containing.custom_provider&#125;]</span><br><span class="line">      [fake] [fake argument [fake argument ...]]</span><br></pre></td></tr></table></figure><p>选项说明：</p><ul><li><code>faker</code> ： 在shell中，<code>faker</code> 命令也可以用 <code>python -m faker</code> 来代替</li><li><code>-h</code>，<code>--help</code> ： 帮助信息</li><li><code>--version</code> ：显示版本</li><li><code>-o FILENAM</code> ：输出结果到文件中</li><li><code>-l {bg_BG,cs_CZ,...,zh_CN,zh_TW}</code> ：指定本地化，<code>zh_CN</code> 表示中文</li><li><code>-r REPEAT</code> ：指定生成多少条相同类型的数据</li><li><code>-s SEP</code> ：在每个输出后边添加指定的分隔符</li><li><code>-i {my.custom_provider other.custom_provider}</code> ：自定义扩展，<code>prividers</code>列表。注意，这里要指定包含你 <code>provider</code> 类的模块的路径，而不是程序本身。</li><li><code>fake</code> ：指定方法名称，如：<code>name</code> , <code>address</code> , <code>text</code> 等</li><li><code>[fake argument ...]</code> ：为方法指定参数。如上例，为 <code>profile</code> 方法指定 <code>ssn</code> 和 <code>name</code> 参数，只输出这两个类型的内容。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>灰色关联分析</title>
      <link href="/2020/08/29/hui-se-guan-lian-fen-xi/"/>
      <url>/2020/08/29/hui-se-guan-lian-fen-xi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>对于两个系统之间的因素，其随时间或不同对象而变化的关联性大小的量度，称为关联度。在系统发展过程中，若两个因素变化的趋势具有一致性，即同步变化程度较高，即可谓二者关联程度较高；反之，则较低。因此，灰色关联分析方法，是根据因素之间发展趋势的相似或相异程度，亦即“灰色关联度”，作为衡量因素间关联程度的一种方法。这里要注意的一点是，灰色关联分析是描述因素之间发展趋势的相似或相异程度，也就是说这里不分正影响与负影响。</p></blockquote><a id="more"></a><h3 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h3><blockquote><p>导入所需的库<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><br>读入数据<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_excel(<span class="string">"./diabetes.xlsx"</span>)</span><br><span class="line">data.head()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20200509213216439.png" alt="图1"><br>进性数据预处理：无量纲化，在此用均值法处理。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = data/data.mean()</span><br><span class="line">data.head()</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20200509213353773.png" alt="图2"></p></blockquote><p><strong>关联系数计算公式：</strong></p><script type="math/tex; mode=display">\xi_{i}(k)=\frac{\min_{i}\min_{k}\Delta_{i}(k)+\rho\max_{i}\max_{k} \Delta_{i}(k)}{\Delta_{i}(k)+\rho\max_{i}\max_{k}\Delta_{i}(k)}</script><script type="math/tex; mode=display">\Delta_{i}(k)=\left|y(k)-x_{i}(k)\right|</script><p>$x_i$为第$i$列数据；$k$为第$i$列中第$k$个值；$\rho$为分辨系数，取值为$0≤\rho≤1$，一般取$0.5$</p><p><strong>关联度计算公式：</strong></p><script type="math/tex; mode=display">r_{i}=\frac{1}{n} \sum_{k=1}^{n} \xi_{i}(k), \quad k=1,2, \ldots n</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 由于DataFrame和Series无法进行混合运算，在此将数据转换为ndarray,然后进行reshape才能够进行运算</span></span><br><span class="line">y = np.array(data.iloc[:,<span class="number">-1</span>]).reshape(<span class="number">-1</span>,<span class="number">1</span>)</span><br><span class="line">x = np.array(data.iloc[:,:<span class="number">-1</span>])</span><br><span class="line"><span class="comment"># ρ取0.5</span></span><br><span class="line">rho = <span class="number">0.5</span></span><br><span class="line">delt_k = np.abs(y-x)</span><br><span class="line">delt_k</span><br><span class="line"><span class="comment"># 此最小值是二级最小值，在此相当于全局最小值，即整个delt_k中的最小值</span></span><br><span class="line">mmin = delt_k.min()</span><br><span class="line">mmax = delt_k.max()</span><br><span class="line"><span class="comment"># 计算ξ</span></span><br><span class="line">xi_k = (mmin + rho * mmax) / (delt_k + rho * mmax)</span><br><span class="line"><span class="comment"># 按照行求均值</span></span><br><span class="line">ri = xi_k.mean(axis=<span class="number">0</span>)</span><br><span class="line">ri</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">0.70049136</span>, <span class="number">0.68669945</span>, <span class="number">0.73271802</span>, <span class="number">0.72497548</span>, <span class="number">0.71074412</span>,<span class="number">0.70539507</span>, <span class="number">0.65997075</span>, <span class="number">0.7326652</span> , <span class="number">0.72569364</span>, <span class="number">0.71694221</span>])</span><br></pre></td></tr></table></figure><p><strong>以上的值即为各属性对应的关联度，由此可见：关联度最高的为BMI，关联度最低的为S3。</strong></p><p><strong>参考资料：</strong><br><a href="https://download.csdn.net/download/weixin_43425784/12404508" target="_blank" rel="noopener">糖尿病数据</a><br><a href="https://www.zybuluo.com/notmylove/note/1505576" target="_blank" rel="noopener">灰色关联分析法（GRA）</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excel函数</title>
      <link href="/2020/04/04/excel-han-shu/"/>
      <url>/2020/04/04/excel-han-shu/</url>
      
        <content type="html"><![CDATA[<hr><ol><li><strong>注意格式的正确性。</strong></li><li><strong>注意引用区域的正确性，引用区域错误会导致返回的结果出错或函数报错。</strong></li><li><strong>注意相对引用和绝对引用的使用。</strong></li></ol><hr><a id="more"></a><ol><li><p><code>=vlookup（查询值，查询区域，查询区域的列，0/1）</code></p><blockquote><p>说明：1为模糊匹配，0为精确匹配，省略时为模糊匹配。</p></blockquote></li><li><p><code>=match（匹配值，匹配区域, 0）</code></p><blockquote><p>说明：此函数以数值得形式返回匹配值所在位置，若匹配区域为某一列，则返回匹配值在此列的所在行数，若匹配区域为某一行，则返回匹配值在此列的所在列数。返回的行（列）位置为相对位置。</p></blockquote></li><li><p><code>=vlookup（查询值，查询区域，match（匹配值，匹配区域，0），0）</code></p><blockquote><p>说明：实现多条信息查询。</p></blockquote></li><li><p><code>=count（计数区域）</code></p><blockquote><p>说明：返回查询区域数值个数，若含有文字，文字部分则以0返回。</p></blockquote></li><li><p><code>=ifs（判断条件1，返回值1，判断条件2，返回值2，...）</code></p><blockquote><p>说明：多条件判断。</p></blockquote></li><li><p><code>=countif（计数区域，计数条件）</code></p><blockquote><p>说明：返回计数条件下的计数值。</p></blockquote></li><li><p><code>ALT + =</code></p><blockquote><p>说明：快速求和。</p></blockquote></li><li><p><code>=text（要转换的值，格式）</code></p><blockquote><p>说明：=text（a1，”yyyy年mm月dd日aaaa”或“e年mm月dd日aaaa”）</p></blockquote></li><li><p><code>=rand（）</code></p><blockquote><p>说明：随机生成（0,1）之间的数。</p></blockquote></li><li><p><code>=randbetween（min，max）</code></p><blockquote><p>说明：随机生成（min，max）之间的整数。</p></blockquote></li><li><p><code>=mid（提取值，字符串起点，字符串长度）</code></p><blockquote><p>说明：字符串提取。</p></blockquote></li><li><p><code>=text（mid（提取值，字符串起点，字符串长度），00-00-00）</code></p><blockquote><p>说明：从身份证号提取出生日期。</p></blockquote></li><li><p><code>=column（A2）</code></p><blockquote><p>说明：返回单元格所在列，<code>=column（A2）</code>返回值为1。</p></blockquote></li><li><p><code>=offset（参考系，行偏移量，列偏移量，返回的行数，返回的列数）</code></p><blockquote><p>返回的行数和列数，构成一个返回的区域。</p><p>（1）<code>=offset(A2,2,1,1,1)</code>，表示以A2单元格为参考系——行偏移量2行，列偏移量1行，返回1行1列的区域大小；参考系也可以是多行多列，要返回的行列数要与参考系行列数相同，（其实没必要多行多列引用，引用单个单元格，通过下拉的方式就可以实现多行多列引用。）。</p><p>（2）<code>offset(Sheet1!$A$2,1,,Sheet1!$D$2,1)</code>，表示以A2单元格为参照系——行偏移量1行，列不偏移——返回D2行，1列。可以通过此方式做带滚动轴的图表。</p></blockquote></li><li><p><code>=countifs(条件1范围，条件1，条件2范围，条件2……条件N范围，条件N)</code></p><blockquote><p>说明：多条件计数。</p></blockquote></li><li><p><code>=sumifs(求和范围，条件1范围，条件1，条件2范围，条件2……条件N范围，条件N)</code></p><blockquote><p>说明：多条件求和。</p></blockquote></li><li><p><code>=sumif(条件范围，条件，[求和范围])</code></p><blockquote><p>说明：单条件求和。</p></blockquote></li><li><p><code>=vlookup(查询值,查询区域,COLUMN(B3),0)</code></p><blockquote><p>说明：用于多列查询。</p></blockquote></li><li><p><code>=round（值或引用，保留小数个数）</code></p><blockquote><p>说明：确定小数保留的位数。</p></blockquote></li><li><p><code>=int（值或引用）</code></p><blockquote><p>说明：取整。</p></blockquote></li><li><p><code>=upper（字母或引用）</code></p><blockquote><p>说明：全部字母大写。</p></blockquote></li><li><p><code>=proper（字母或引用）</code></p><blockquote><p>首字母大写。</p></blockquote></li><li><p><code>=lower（字母或引用）</code></p><blockquote><p>说明：全部字母小写。</p></blockquote></li><li><p><code>=rank（排序的值，排序的范围，0/1）</code></p><blockquote><p>说明：排序，0为降序，1为升序，此为美式排序，如：1224557</p></blockquote></li><li><p><code>=sumproduct（数组1，数组2，...数组N）</code></p><blockquote><p>说明：数组用法不太明白，此为中式排序，如：1234567</p></blockquote></li><li><p><code>=counta（计数区域）</code></p><blockquote><p>说明：返回此区域非空单元格数量。</p></blockquote></li><li><p><code>=countblank（计数区域）</code></p><blockquote><p>说明：返回此区域空单元格数量。</p></blockquote></li><li><p><code>=rept（引用值，重复次数）</code></p><blockquote><p>说明：返回重复的引用值。</p></blockquote></li><li><p><code>=lookup（查询值，查询区域，返回值所在区域）</code></p><blockquote><p>说明：使用此函数必须对查询区域的值进行升序排列，否返回错误值。数组式查询不太明白。</p></blockquote></li><li><p><code>=numberstring（单元格值，1/2/3）</code></p><blockquote><p>说明：如66，当为1时六十六，当为2时，陆拾陆，当为3时，六六。</p></blockquote></li><li><p><code>=frequency（引用区域，{up_value，low_value}）</code></p><blockquote><p>说明：返回引用区域内，范围在low_value到up_value的个数。</p></blockquote></li><li><p><code>=aggrvate（函数，条件，引用区域）</code></p><blockquote><p>说明：用法略为复杂，参考网上用法。</p></blockquote></li><li><p><code>=isna(引用单元格)</code></p><blockquote><p>说明：如果引用的单元格为空，则返回True，否则返回False。注意和<code>isblank</code>的区别。</p></blockquote></li><li><p><code>=isblank(引用单元格)</code></p><blockquote><p>说明：如果引用的单元格没有值，则返回True，否则返回False。注意和<code>isna</code>的区别。</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> Excel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaTeX学习(一)</title>
      <link href="/2019/07/05/latex-xue-xi-yi/"/>
      <url>/2019/07/05/latex-xue-xi-yi/</url>
      
        <content type="html"><![CDATA[<p>今天算是第一天正式学习<code>LaTeX</code>，用的文本和数据内容是我一个同学数学建模的论文，正因为是第一天学习，踩了一天的坑，虽然刚开始学有点麻烦，但是逐渐接触后就会掌握它的技巧所在，和word相比，<code>LaTeX</code>基本上不需要担心格式上和美化文本上的问题，这也是目前我觉得最有用地方，可能刚开始接触，还不够深入，希望能在以后的学习中慢慢发现新大陆，总的来说，还是觉得它和 word各有优缺点吧！<br>废话不多说，上代码！</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;%支持中文格式</span><br><span class="line">\usepackage&#123;ctex&#125;</span><br><span class="line">\usepackage&#123;textcomp,booktabs&#125;</span><br><span class="line">\usepackage[usenames,dvipsnames]&#123;color&#125;</span><br><span class="line">\usepackage&#123;colortbl&#125;</span><br><span class="line">\usepackage&#123;graphicx&#125; </span><br><span class="line">\usepackage&#123;indentfirst&#125;</span><br><span class="line">\setlength&#123;\parindent&#125;&#123;2em&#125;</span><br><span class="line">\newcommand&#123;\tabincell&#125;[2]&#123;\begin&#123;tabular&#125;&#123;@&#123;&#125;#1@&#123;&#125;&#125;#2\end&#123;tabular&#125;&#125;</span><br><span class="line">\usepackage[a4paper,left&#x3D;31.8mm,right&#x3D;31.8mm,top&#x3D;25.4mm,bottom&#x3D;25.4mm]&#123;geometry&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">\title&#123;深圳居民健康水平评估与动态测控模型研究&#125;</span><br><span class="line">\author&#123;作者:***&#125;</span><br><span class="line">\date&#123;&#125; %是否显示日期</span><br><span class="line">\maketitle</span><br><span class="line"></span><br><span class="line">\renewcommand&#123;\contentsname&#125;&#123;目录&#125;%将content转换为目录</span><br><span class="line">\tableofcontents</span><br><span class="line">\newpage</span><br><span class="line">\begin&#123;abstract&#125;</span><br><span class="line">%将摘要文本设置为楷书</span><br><span class="line">&#123;\kaishu 针对问题一，通过双数值图得出结论环境、医疗、卫生、文体这四个因素与健康水平的发展趋势都具有线性相关性。建立多元线性回归模型对问题一求解，得出结论随着环境、医疗、卫生、文体的改善与发展，居民的健康水平不断提高。建立灰色预测模型得出深圳市 2017-2028 年的健康预测水平。  </span><br><span class="line"></span><br><span class="line">针对问题二，利用动态加权综合评估模型建立深圳市健康水平的动态检测模型在模型建立过程中利用熵值法求权重，利用 matlab 做数据实现，得出饮食习惯、生活方式、医疗保障和工作压力的权重。得出重要结论：在本题研究的影响健康水平的四个因素当中，生活方式的权重较大，对健康水平的影响也较大。 </span><br><span class="line"></span><br><span class="line">针对问题三，通过对问题二所得结论分析得出医疗保障是促成健康最根本的要素，而对居民个人导致不健康的最根本要素是生活方式，对社会导致不健康的最根本要素是工作压力，而膳食结构的差异给人体带来的影响很大，一是要科学合理的膳食，二是要加强锻炼才能保证健康的身体。据此给出干预方案。 </span><br><span class="line"></span><br><span class="line">针对问题四，通过对深圳市近年精神性疾病数据的分析，得出结论在问题二建立的居民个体评估模型和社会公共卫生与环境评估模型的基础上，针对实际情况，增加心理健康评估的主因素分析，更好的符合模型的实际情况和设计要求 。 </span><br><span class="line"></span><br><span class="line">针对问题五，通过查找北京市、上海市、桂林市和温州市的健康计划的相关数据，对比分析得出结论：深圳市与其他城市相比医疗保障方面是弱势，应该加强医疗保障事业建设。</span><br><span class="line"></span><br><span class="line">关键词：\ 双数值图 \  折线图 \ 多元线性回归  \ 灰色预测 \ 熵值法求权重 \ 动态加权综合评估模型 &#125; </span><br><span class="line">\end&#123;abstract&#125;</span><br><span class="line">\section&#123;问题重述&#125;%一级标题</span><br><span class="line">健康是人类永恒的话题，在工业化时代，慢性非传染型疾病在很大程度上威胁着人们的健康。为促进健康中国建设，党的十八届五中全会提出了“健康中国 2030 规划纲要”，目的在于将“以治病为中心”的末端治理方式转变为“以健康为中心”的社会共治模式。深圳市响应号召提出了“健康深圳行动计”，综合从环境、卫生、医疗、文体多领域监测市民的健康状况，以全面提高市民的身体健康、心理健康，实现更高水平的全民健康。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题一&#125;%二级标题</span><br><span class="line">利用深圳市的相关数据，从影响“健康深圳”的生活、环境（诸如空气污染、垃圾围城等问题）、卫生、医疗、文体等方面因素入手，定量分析深圳居民健康水平的现状发展趋势、评估“健康深圳行动计划”内容对深圳</span><br><span class="line">居民健康水平发展趋势的影响作用。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题二&#125;%二级标题</span><br><span class="line">结合大健康学科前沿成果分析这些现象的形成机理，综合考虑饮食习惯、生活方式、工作压力和医疗保障等方面的影响，建立能够支持健康水平动态测控需求的社会公共卫生与环境评估模型和居民个体评估模型，并从政策环境和居民自身角度，提出有效解决类似“失配性”慢性非传染疾病、以及环境污染问题的可行方案。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题三&#125;%二级标题</span><br><span class="line">根据深圳居民的脂肪功能状况，建立一个能够有效降低血脂并具有动态监测功能的健康水平评估模型，并在充分考虑投入与产出的条件下，结合“健康深圳”行动计划制定实施方案，分析模型的适用性和方案的可行性。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题四&#125;%二级标题</span><br><span class="line">在构建的健康水平测控模型中增加心理健康评估内容，并对社会公众共性的、与居民个体的心理应激给出综合干预建议方案。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题五&#125;%二级标题</span><br><span class="line">结合之前的模型分析结果和设计方案，对比国内其他城市相关工作，为“健康深圳”行动计划提出补充或改进建议，尤其是针对健康深圳的信</span><br><span class="line">息化建设，在测控数据采集机制的构建与个人隐私保护等方面，给出相应的意见。 </span><br><span class="line">\section&#123;问题分析&#125;</span><br><span class="line">\subsection&#123;问题一分析&#125;</span><br><span class="line">问题一要求从影响“健康深圳”的环境、卫生、医疗、问题等方面的因素定量分析深圳居民健康水平的发展趋势，首先我们通过国家统计局网（http:&#x2F;&#x2F;www.stats.gov.cn&#x2F;）和深圳市统计局网站（http:&#x2F;&#x2F;tjj.sz.gov.cn&#x2F;）大量地查找有效数据，然后运用找出的数据建立多元线性回归模型，并通过</span><br><span class="line">Eviews 软件实现求模型中的未知参数。 </span><br><span class="line">利用灰色预测，并结合“健康中国”的相关健康指标定量分析深圳居民健康水平的现状发展趋势、并评估“健康深圳行动计划”内容对深圳居民健康水平发展趋势的影响作用。 </span><br><span class="line">\subsection&#123;问题二分析&#125;</span><br><span class="line">问题二要求从饮食习惯、生活方式、工作压力和医疗保障等方面的影响，建立持健康水平动态测控需求的社会公共卫生与环境评估模型和居民个体评估模型。首先我们大量的数据收集整理出能够充分代表饮食习惯、生活方式、工作压力和医疗保障的指标及其数据。 建立动态加权综合评估模型，通过熵权法计算评价指标的权重，进行健康水平的动态测控。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题三分析&#125;</span><br><span class="line">根据问题二建立的评价模型得出的权重，分析得出医疗保障是促成健康最根本的要素，而对居民个人导致不健康的最根本要素是生活方式，对社会导致不健康的最根本要素是工作压力。基于此制定有效的干预措施。 </span><br><span class="line"></span><br><span class="line">\subsection&#123;问题四分析&#125;</span><br><span class="line">通过对深圳市近年精神性疾病数据的分析，得出结论在问题二建立的居民个体评估模型和社会公共卫生与环境评估模型的基础上，针对实际情况，增加心理健康评估的主因素分析，更好的符合模型的实际情况和设计要求 。 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">\subsection&#123;问题五分析&#125;</span><br><span class="line">通过结合相关城市统计数据进行对比分析，同时依据深圳市政府和公民两个角度分析信息化下的数据收集与保密，引入一些大数据处理技术方案，给予政府决策者一些建议。 </span><br><span class="line"></span><br><span class="line">\section&#123;模型假设&#125;</span><br><span class="line">结合本题的实际情况，为确保模型求解的准确性和合理性，现对一些客观存在但可忽略不计的因素，我们做如下假设:  结合本题的实际情况，为确保模型求解的准确性和合理性，现对一些客观存在但可忽略不计的因素，我们做如下假设: </span><br><span class="line"></span><br><span class="line">假设：所选取的各参考指标均真实有效。 </span><br><span class="line"></span><br><span class="line">理由：数据指标均来源于统计年鉴和文献且与所期望评估对象密切相关。 </span><br><span class="line"></span><br><span class="line">假设：不考虑流动人口和不可测的风险对深圳居民健康水平的影响。 </span><br><span class="line"></span><br><span class="line">理由：无相关数据支持且测控中无法完全规避偶然性和突变性。  </span><br><span class="line"></span><br><span class="line">\section&#123;符号说明&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;table&#125;[htbp]</span><br><span class="line">\centering %表格整体居中</span><br><span class="line">\caption&#123;符号说明&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;cc&#125;</span><br><span class="line"></span><br><span class="line">\hline</span><br><span class="line">符号&amp;符号说明\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$y_i$&amp;国民体质合格以上率\%\\</span><br><span class="line">\hline</span><br><span class="line">$i$&amp;年数\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;1$&amp;空气质量优良天数比率\\</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;2$&amp;医疗卫生事业费（元）\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;3$&amp;医疗保健占总支出的比重\%\\</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;4$&amp;举办1000人以上群体健身活动的次数（次）\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;5$&amp;15 岁及 15 岁以上吸烟率\\</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;6$&amp;超重人数比率\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;7$&amp;年经常锻炼人数（万人）\\</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;8$&amp;人均每天睡眠时间（小时）\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;9$&amp;城镇在岗职工平均货币工资（元）\\</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;10$&amp;心脑血管疾病平均死亡率\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;11$&amp;药品安全评价抽样合格率\\</span><br><span class="line">\hline</span><br><span class="line">$j&#x3D;12$&amp;医疗卫生机构数合计数\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$w_j$&amp;权重\\</span><br><span class="line">\hline</span><br><span class="line">$d_j$&amp;信息效用值\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$e_j$&amp;指标信息熵值\\</span><br><span class="line">\hline</span><br><span class="line">$m$&amp;年数\\</span><br><span class="line">\rowcolor[gray]&#123;0.8&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">$X$&amp;动态加权和\\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\end&#123;table&#125;</span><br><span class="line">\section&#123;模型的建立与求解&#125;</span><br><span class="line">\subsection&#123;问题一的模型建立与求解&#125;</span><br><span class="line">\subsubsection&#123;健康水平、环境、卫生、医疗、文体指标分析&#125;</span><br><span class="line">通过对《健康中国2030计划》和《健康深圳计划》的阅读和理解，并结合数据来源的获得性问题，经过多次确认，我们选取国民体质合格以上率、空气质量优良天数比率、医疗卫生事业费、医疗保健占总支出的比重、举办1000人以上群体健身活动的次数分别作为健康水平、环境、卫生、医疗和文体的指标。见表1。</span><br><span class="line">%此处空一行，防止下面的\centering使上面文本也居中</span><br><span class="line">\makeatletter\def\@captype&#123;table&#125;\makeatother%使下面图表紧跟着上面文字</span><br><span class="line"></span><br><span class="line">\caption&#123;影响因素及其对应指标&#125;</span><br><span class="line">\begin&#123;center&#125;%使表格整体居中显示</span><br><span class="line">\begin&#123;tabular&#125;&#123;cc&#125;</span><br><span class="line">\hline</span><br><span class="line">因素&amp;指标\\</span><br><span class="line">\rowcolor[rgb]&#123;0.1,0.9,0.2&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">健康水平&amp;国民体质合格以上率\%\\</span><br><span class="line">\hline</span><br><span class="line">环境&amp;空气质量优良天数比率\%\\</span><br><span class="line">\rowcolor[rgb]&#123;0.1,0.9,0.2&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">卫生&amp;医疗卫生事业费（元）\\</span><br><span class="line">\hline</span><br><span class="line">医疗&amp;医疗保健占总支出的比重\%\\</span><br><span class="line">\rowcolor[rgb]&#123;0.1,0.9,0.2&#125;%添加此行背景色</span><br><span class="line">\hline</span><br><span class="line">文体&amp;举 办 1000 人以上群体健身活动的次数（次）\\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\end&#123;center&#125;</span><br><span class="line"></span><br><span class="line">通过中国统计局网站和深圳统计局网站的年鉴和公报，我们搜集、整理有关指标;空气质量优良天数比率、卫生医疗事业费、医疗保健占总支出的比例、举办1000人以上的群体健身活动次数和国民体质合格以上率在2009-2017年的相关数据。见表2。</span><br><span class="line">\makeatletter\def\@captype&#123;table&#125;\makeatother%使下面图表紧跟着上面文字</span><br><span class="line">\caption&#123;2009—2017年指标具体数值&#125;</span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|p&#123;2cm&#125;|p&#123;2cm&#125;|p&#123;2cm&#125;|p&#123;2cm&#125;|p&#123;2cm&#125;|&#125;</span><br><span class="line">\hline </span><br><span class="line">年份 &amp;空气质量优良天数比率\%&amp;医疗卫生事业费（元）&amp;医疗保健占总支出的比例\%&amp;举办1000人以上的群体健身活动次数(次）&amp;国民体质合格以上率\%\\</span><br><span class="line">\hline</span><br><span class="line">2009&amp; 99.70\%&amp; 281265&amp; 4.85\% &amp;154&amp; 88.80\% \\</span><br><span class="line">\hline</span><br><span class="line">2010 &amp;97.50\% &amp;306253&amp; 4.37\% &amp;240&amp; 90.50\% \\</span><br><span class="line">\hline</span><br><span class="line">2011 &amp;99.20\% &amp;336483&amp; 3.74\% &amp;300 &amp;91.00\% \\</span><br><span class="line">\hline</span><br><span class="line">2012 &amp;99.70\% &amp;389522&amp; 3.82\% &amp;186 &amp;89.90\% \\</span><br><span class="line">\hline</span><br><span class="line">2013 &amp;88.80\% &amp;438821&amp; 3.87\% &amp;190 &amp;90.20\% \\</span><br><span class="line">\hline</span><br><span class="line">2014 &amp;95.40\% &amp;578427&amp; 3.50\% &amp;200 &amp;89.80\% \\</span><br><span class="line">\hline</span><br><span class="line">2015 &amp;93.15\% &amp;833177&amp; 3.40\% &amp;200 &amp;88.50\% \\</span><br><span class="line">\hline</span><br><span class="line">2016 &amp;96.70\% &amp;1E+06&amp; 3.38\% &amp;145 &amp;91.80\% \\</span><br><span class="line">\hline</span><br><span class="line">2017 &amp;94.00\% &amp;1E+06&amp; 3.01\% &amp;160 &amp;92.00\% \\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line"></span><br><span class="line">\subsubsection&#123;绘制双数值图分析因素与变量之间的关系&#125;</span><br><span class="line">（1）根据表2中的2009-2017年的空气质量优良天数比率和国民体质合格以上率在Excel上绘制双数值图，见图1</span><br><span class="line">\begin&#123;center&#125;</span><br><span class="line">%图片居中</span><br><span class="line">\makeatletter\def\@captype&#123;figure&#125;\makeatother%使下面图表紧跟着上面文字</span><br><span class="line">%开始插入图片</span><br><span class="line">%\begin&#123;figure&#125;[htbp] %htbp 代表图片插入位置的设置</span><br><span class="line"></span><br><span class="line">\includegraphics[width&#x3D;15cm]&#123;0000.png&#125; %[]中可选参数，可以设置图片的宽高</span><br><span class="line">%添加图体</span><br><span class="line">\caption&#123;环境因素与国民体质合格以上率的关系及其趋势&#125;</span><br><span class="line">%\end&#123;figure&#125;</span><br><span class="line">\end&#123;center&#125;</span><br><span class="line"></span><br><span class="line">图1分析得出，在2009-2017年间，空气质量优良天数比率和国民体质合格率之间存在大致相同的增减变化趋势和增减变化幅度。国民体质合格以上率随着空气质量优良天数比率的增长而增长，二者之间存在线性正相关关系。这说明，空气质良天数比率和国民体质合格以上率之间具有一定的正相关关系。</span><br><span class="line"></span><br><span class="line">（2）根据表2中的2009-2017年的医疗卫生事业费和国民体质合格以上率在Excel上绘制双数值图，见图2</span><br><span class="line"></span><br><span class="line">\begin&#123;center&#125; %图片居中</span><br><span class="line">\begin&#123;figure&#125;[htbp] %htbp 代表图片插入位置的设置</span><br><span class="line"></span><br><span class="line">\includegraphics[width&#x3D;15cm]&#123;2222.png&#125; %[]中可选参数，可以设置图片的宽高</span><br><span class="line">%添加图体</span><br><span class="line">\caption&#123;医疗卫生事业费与国民体质合格以上率的关系&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br><span class="line">\end&#123;center&#125;</span><br><span class="line"></span><br><span class="line">依据图 2 分析可得，深圳市 2009 2017 年的医疗卫生事业费和国民合格率的增减变动有大致相同性，随着医疗卫生事业费的增长，深圳市的国民体质合格以上率也呈现上涨趋势。表示医疗卫生事业费与国民体质合格率是正相关关系。</span><br><span class="line"></span><br><span class="line">（3）根据表2中的2009-2017年的个人医疗保健占总支出的比重和国民体质合格以上率在Excel上绘制双数值图，见图3</span><br><span class="line">\begin&#123;center&#125;</span><br><span class="line">\begin&#123;figure&#125;[htbp]</span><br><span class="line">\includegraphics[width&#x3D;15cm]&#123;3333.png&#125;</span><br><span class="line">\caption&#123;个人医疗保健占总支出的比例与国民体质 合格以上率的关系及趋势&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br><span class="line">\end&#123;center&#125;</span><br><span class="line"></span><br><span class="line">据图3 分析可得，随着个人医疗保健占总支出的比例的降低，2009-2017 年国民体质合格率呈现上上升趋势，这说明，二者之间存在线性负相关关系。</span><br><span class="line"></span><br><span class="line">（4）根据表2 中的2009-2017 年的举办1000 人以上的群体健身活动次数</span><br><span class="line">和国民体质合格以上率在Excel 上绘制双数值图，见图4</span><br><span class="line">\begin&#123;center&#125;</span><br><span class="line">\makeatletter\def\@captype&#123;figure&#125;\makeatother%使下面图表紧跟着上面文字</span><br><span class="line">\begin&#123;figure&#125;[htbp]</span><br><span class="line">\includegraphics[width&#x3D;15cm]&#123;4444.png&#125;</span><br><span class="line">\caption&#123;生活方式与国民体质合格以上率的关系及其趋势&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br><span class="line">\end&#123;center&#125;</span><br><span class="line"></span><br><span class="line">根据图4，随着深圳市举办1000 人以上的群体健身活动次数呈现增长趋势，深圳市国民体质合格率也呈现不断提高的态势，这说明这二者之间是线性正相关关系。根据以上四个双数值图的分析，可以看出，健康水平与环境、医疗、卫生、文体之间都存在线性相关关系，所以这是一个连续型自变量与多个因变量之间的关系，因此我们可以建立多元线性回归模型对其进行影响程度分析。</span><br><span class="line">\subsubsection&#123;建立多元线性回归模型&#125;</span><br><span class="line">\Large $$y_i&#x3D;b_0+b_1lnx_&#123;i1&#125;+b_2lnx_&#123;i2&#125;+b_3lnx_&#123;i3&#125;+b_4lnx_&#123;i4&#125;+e_i$$</span><br><span class="line"></span><br><span class="line">\subsubsection&#123;运用Eviews 实现求解&#125;</span><br><span class="line"></span><br><span class="line">\makeatletter\def\@captype&#123;table&#125;\makeatother%使下面图表紧跟着上面文字</span><br><span class="line"></span><br><span class="line">\caption&#123;原始数据表&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;tabular&#125;&#123;|c|c|c|c|c|c|&#125;</span><br><span class="line">\hline</span><br><span class="line">年份  &amp;Y        &amp;X1       &amp;X2       &amp;X3       &amp;X4 \\</span><br><span class="line">\hline</span><br><span class="line">2009 &amp;0.888000 &amp;154.0000 &amp;28.13000 &amp;0.048500 &amp;0.997000  \\</span><br><span class="line">\hline</span><br><span class="line">2010 &amp;0.905000 &amp;240.0000 &amp;30.63000 &amp;0.043700 &amp;0.975000  \\</span><br><span class="line">\hline</span><br><span class="line">2011 &amp;0.910000 &amp;300.0000 &amp;33.65000 &amp;0.037400 &amp;0.992000  \\</span><br><span class="line">\hline</span><br><span class="line">2012 &amp;0.899000 &amp;186.0000 &amp;38.95000 &amp;0.038200 &amp;0.997000  \\</span><br><span class="line">\hline</span><br><span class="line">2013 &amp;0.902000 &amp;190.0000 &amp;43.88000 &amp;0.038700 &amp;0.888000  \\</span><br><span class="line">\hline</span><br><span class="line">2014 &amp;0.898000 &amp;200.0000 &amp;57.84000 &amp;0.035000 &amp;0.954000  \\</span><br><span class="line">\hline</span><br><span class="line">2015 &amp;0.885000 &amp;200.0000 &amp;83.32000 &amp;0.034000 &amp;0.931500  \\</span><br><span class="line">\hline</span><br><span class="line">2016 &amp;0.918000 &amp;145.0000 &amp;109.3400 &amp;0.033800 &amp;0.967000  \\</span><br><span class="line">\hline</span><br><span class="line">2017 &amp;0.920000 &amp;160.0000 &amp;128.6600 &amp;0.030100 &amp;0.940000  \\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\\%上下空一行</span><br><span class="line">\\%上下空两行</span><br><span class="line"></span><br><span class="line">实现程序:</span><br><span class="line">\\</span><br><span class="line"></span><br><span class="line">&#123;\Large $data y x1 x2 x3 x4$\\</span><br><span class="line">\par $ls log(y) c log(x1) log(x2) log(x3) log(x4)$&#125;</span><br><span class="line"></span><br><span class="line">\makeatletter\def\@captype&#123;table&#125;\makeatother%使下面图表紧跟着上面文字</span><br><span class="line">\begin&#123;center&#125;</span><br><span class="line">\begin&#123;figure&#125;[htbp]</span><br><span class="line">\includegraphics[width&#x3D;15cm]&#123;5555.png&#125;</span><br><span class="line">\caption&#123;多元线性回归估计表&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br><span class="line">\end&#123;center&#125;</span><br><span class="line">\newpage</span><br><span class="line"></span><br><span class="line">通过结果，可以分析得出：随着环境优良天数比率的增加，医疗卫生事业费的增加，举办群体健身活动的增加，国民体质合格以上人数比率也在不断增加。这说明，随着环境、医疗、卫生、文体的改善与发展，居民的健康水平不断提高。</span><br><span class="line"></span><br><span class="line">\subsubsection&#123;灰色预测&#125;</span><br><span class="line">通过大量收集、整理获得的2009 年至2017 年的有关深圳市环境、医疗、卫生、文体的数据，运用Matlab 软件通过灰色预测编程实现对深圳市2020 年的国民体质合格以上率。</span><br><span class="line"></span><br><span class="line">建立灰色预测模型GM（1.1），对原始数据进行处理。如下：</span><br><span class="line"></span><br><span class="line">（1）数据的检验与处理，对已知数据进行检验处理。设参考数据为</span><br><span class="line"></span><br><span class="line">\Large $$x^&#123;(0)&#125;&#x3D;\Bigg (x^&#123;(0)&#125;(1),x^&#123;(0)&#125;(2),x^&#123;(0)&#125;(3) \Bigg )&#x3D;(628,619,588)$$</span><br><span class="line"></span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p>编译的结果就不放了吧，大家有兴趣的可以一起学习交流，如有不足之处，还烦请各位批评指正！</p>]]></content>
      
      
      <categories>
          
          <category> LaTeX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LaTeX </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
